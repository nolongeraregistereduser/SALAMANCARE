<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Caregiver Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Override Tailwind rounded-sm to be less pointy */
        .rounded-sm {
            border-radius: 12px !important;
        }

        body {
            font-family: 'Poppins', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #e8e8e8 0%, #f5f5f5 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            padding: 50px 0;
        }

        .phone-mockup {
            width: 375px;
            height: 812px;
            background: linear-gradient(145deg, #2d2438 0%, #1a1523 100%);
            border-radius: 50px;
            padding: 12px;
            position: relative;
            border: 3px solid #1a1523;
            filter: drop-shadow(0 60px 80px rgba(0, 0, 0, 0.5));
        }

        .phone-mockup::before {
            content: '';
            position: absolute;
            bottom: -40px;
            left: 50%;
            transform: translateX(-50%);
            width: 70%;
            height: 30px;
            background: radial-gradient(ellipse, rgba(0, 0, 0, 0.4) 0%, transparent 70%);
            border-radius: 50%;
            z-index: -1;
        }

        .phone-mockup::after {
            content: '';
            position: absolute;
            right: -5px;
            top: 150px;
            width: 4px;
            height: 80px;
            background: linear-gradient(180deg, #1a1523 0%, #2d2438 100%);
            border-radius: 0 2px 2px 0;
            box-shadow: inset -1px 0 2px rgba(0, 0, 0, 0.5);
        }

        /* Volume buttons */
        .volume-up,
        .volume-down,
        .silent-switch {
            position: absolute;
            left: -5px;
            width: 4px;
            background: linear-gradient(180deg, #1a1523 0%, #2d2438 100%);
            border-radius: 2px 0 0 2px;
            box-shadow: inset 1px 0 2px rgba(0, 0, 0, 0.5);
        }

        .silent-switch {
            top: 120px;
            height: 40px;
        }

        .volume-up {
            top: 200px;
            height: 40px;
        }

        .volume-down {
            top: 250px;
            height: 40px;
        }

        .phone-notch {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 30px;
            background: #000;
            border-radius: 0 0 20px 20px;
            z-index: 100;
        }

        .phone-screen {
            width: 100%;
            height: 100%;
            background: #F4F7FB;
            border-radius: 32px;
            overflow: hidden;
            position: relative;
        }

        .status-bar {
            background: #F4F7FB;
            padding: 8px 20px 4px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 12px;
            color: #333;
            height: 44px;
        }

        .screen-content {
            height: calc(100% - 44px - 75px);
            overflow-y: auto;
            overflow-x: hidden;
            scrollbar-width: none;
            padding-bottom: 10px;
        }

        .screen-content::-webkit-scrollbar {
            display: none;
        }

        .bottom-nav {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 75px;
            background: #F4F7FB;
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding: 10px 0 20px 0;
            border-top: 1px solid #d0d5dd;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            color: #666;
            font-size: 11px;
            cursor: pointer;
            padding: 8px 10px;
        }

        .nav-item.active {
            color: #1977F2;
        }

        .nav-icon {
            width: 24px;
            height: 24px;
        }

        .page {
            display: none !important;
            padding: 16px;
        }

        .page.active {
            display: block !important;
            animation: smoothSlideIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .page.slide-out-left {
            animation: smoothSlideOutLeft 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .page.slide-out-right {
            animation: smoothSlideOutRight 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes smoothSlideIn {
            from {
                opacity: 0;
                transform: translateX(15px);
            }

            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes smoothSlideOutLeft {
            from {
                opacity: 1;
                transform: translateX(0);
            }

            to {
                opacity: 0;
                transform: translateX(-15px);
            }
        }

        @keyframes smoothSlideOutRight {
            from {
                opacity: 1;
                transform: translateX(0);
            }

            to {
                opacity: 0;
                transform: translateX(15px);
            }
        }

        /* Toggle Switch Styles */
        .toggle-switch {
            position: relative;
            width: 44px;
            height: 24px;
            background-color: #ddd;
            border-radius: 18px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .toggle-switch.active {
            background-color: #1977F2;
        }

        .toggle-slider {
            position: absolute;
            top: 2px;
            left: 2px;
            width: 20px;
            height: 20px;
            background-color: white;
            border-radius: 50%;
            transition: transform 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .toggle-switch.active .toggle-slider {
            transform: translateX(20px);
        }

        /* treatment Slider Styles */
        .treatment-slider {
            display: flex;
            overflow-x: auto;
            gap: 12px;
            padding: 12px 0;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .treatment-slider::-webkit-scrollbar {
            display: none;
        }

        .treatment-card {
            flex: 0 0 140px;
            height: 180px;
            border-radius: 16px;
            position: relative;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .treatment-card:hover {
            transform: scale(1.05);
        }

        .treatment-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .treatment-gradient {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 70%;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.9) 0%, rgba(0, 0, 0, 0.6) 50%, transparent 100%);
            padding: 12px 10px 10px;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
        }

        .treatment-name {
            color: white;
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .treatment-info {
            color: rgba(255, 255, 255, 0.9);
            font-size: 10px;
            line-height: 1.4;
        }

        /* Button text color override */
        .btn-text {
            color: #E6E8EA !important;
        }

        /* Highlighted text */
        .highlight-text {
            color: #1977F2 !important;
        }

        /* Text truncation for treatment names */
        .treatment-name-truncate {
            max-width: 100%;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            display: inline-block;
        }

        /* Settings Button */
        .settings-button {
            width: 28px;
            height: 28px;
            background-color: transparent;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            flex-shrink: 0;
        }

        .settings-button:hover {
            opacity: 0.6;
        }

        .settings-button svg {
            width: 22px;
            height: 22px;
            color: #9CA3AF;
        }

        /* Three Dot Menu */
        .menu-button {
            width: 28px;
            height: 28px;
            background-color: transparent;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            flex-shrink: 0;
            position: relative;
        }

        .menu-button svg {
            width: 20px;
            height: 20px;
            color: #6B7280;
        }

        .dropdown-menu {
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: 4px;
            background: white;
            border-radius: 14px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            min-width: 140px;
            display: none;
            z-index: 9999;
            overflow: hidden;
        }

        .dropdown-menu.show {
            display: block;
        }

        .dropdown-item {
            padding: 10px 16px;
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: background-color 0.2s ease;
            font-size: 13px;
            color: #161B1C;
        }

        .dropdown-item:hover {
            background-color: #F3F4F6;
        }

        .dropdown-item svg {
            width: 16px;
            height: 16px;
            color: #6B7280;
        }

        /* ========== NOTIFICATION SYSTEM STYLES ========== */

        /* Notification Bell Button */
        .notification-bell-button {
            width: 28px;
            height: 28px;
            background-color: transparent;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            flex-shrink: 0;
            position: relative;
        }

        .notification-bell-button:hover {
            opacity: 0.6;
        }

        .notification-bell-button svg {
            width: 22px;
            height: 22px;
            color: #9CA3AF;
        }

        /* Notification Badge */
        .notification-badge {
            position: absolute;
            top: -4px;
            right: -4px;
            background: #EF4444;
            color: white;
            font-size: 9px;
            font-weight: bold;
            min-width: 16px;
            height: 16px;
            border-radius: 8px;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 0 4px;
        }

        .notification-badge.show {
            display: flex;
            animation: badgePop 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        @keyframes badgePop {
            0% {
                transform: scale(0);
            }

            50% {
                transform: scale(1.2);
            }

            100% {
                transform: scale(1);
            }
        }

        /* Push Notification Popup */
        .push-notification {
            position: absolute;
            top: 50px;
            left: 50%;
            transform: translateX(-50%) translateY(-100px);
            width: 90%;
            max-width: 340px;
            background: #FDFFFF;
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
            padding: 14px 16px;
            z-index: 99999;
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            pointer-events: none;
            border-left: 4px solid #1977F2;
        }

        .push-notification.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
            pointer-events: auto;
        }

        .push-notification.urgent {
            background: #FEF2F2;
            border-left-color: #EF4444;
            animation: gentlePulse 0.6s ease-out;
        }

        @keyframes gentlePulse {
            0% {
                transform: translateX(-50%) translateY(0) scale(0.95);
                box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
            }

            50% {
                transform: translateX(-50%) translateY(0) scale(1.02);
                box-shadow: 0 12px 32px rgba(239, 68, 68, 0.2);
            }

            100% {
                transform: translateX(-50%) translateY(0) scale(1);
                box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
            }
        }

        .push-notif-header {
            display: flex;
            align-items: flex-start;
            gap: 12px;
        }

        .push-notif-icon {
            width: 44px;
            height: 44px;
            background: #EFF6FF;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            flex-shrink: 0;
        }

        .push-notification.urgent .push-notif-icon {
            background: #FEE2E2;
        }

        .push-notif-content {
            flex: 1;
            min-width: 0;
        }

        .push-notif-title {
            font-size: 14px;
            font-weight: 600;
            color: #1F2937;
            margin-bottom: 4px;
            line-height: 1.3;
        }

        .push-notification.urgent .push-notif-title {
            color: #DC2626;
        }

        .push-notif-message {
            font-size: 13px;
            color: #6B7280;
            line-height: 1.4;
            margin-bottom: 6px;
        }

        .push-notification.urgent .push-notif-message {
            color: #991B1B;
        }

        .push-notif-time {
            font-size: 11px;
            color: #9CA3AF;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .push-notif-time::before {
            content: 'â€¢';
            font-size: 14px;
        }

        .push-notification.urgent .push-notif-time {
            color: #DC2626;
        }

        /* Notification Panel */
        .notification-panel {
            position: absolute;
            top: 0;
            right: -100%;
            width: 100%;
            height: 100%;
            background: #F4F7FB;
            z-index: 100000;
            transition: right 0.3s ease;
            overflow-y: auto;
            display: none;
        }

        .notification-panel.open {
            right: 0;
            display: block;
        }

        .notification-panel-header {
            background: white;
            padding: 16px;
            border-bottom: 1px solid #E5E7EB;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .notification-panel-title {
            font-size: 18px;
            font-weight: bold;
            color: #1F2937;
            margin-bottom: 8px;
        }

        .notification-panel-actions {
            display: flex;
            gap: 8px;
        }

        .notif-action-btn {
            padding: 6px 12px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
        }

        .notif-mark-read {
            background: #1977F2;
            color: white;
        }

        .notif-mark-read:hover {
            background: #1565C0;
        }

        .notif-close {
            background: #E5E7EB;
            color: #6B7280;
        }

        .notif-close:hover {
            background: #D1D5DB;
        }

        .notification-list {
            padding: 16px;
        }

        .notification-item {
            background: #FDFFFF;
            border-radius: 10px;
            padding: 14px;
            margin-bottom: 10px;
            border-left: 4px solid #1977F2;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            gap: 12px;
            align-items: flex-start;
        }

        .notification-item:hover {
            transform: translateX(-3px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .notification-item.unread {
            background: #EFF6FF;
            border-left-color: #1977F2;
        }

        .notification-item.urgent {
            border-left-color: #EF4444;
            background: #FEF2F2;
        }

        .notification-item.read {
            opacity: 0.65;
            border-left-color: #D1D5DB;
            background: #F9FAFB;
        }

        .notification-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            flex-shrink: 0;
        }

        .notification-content {
            flex: 1;
            min-width: 0;
        }

        .notification-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 4px;
        }

        .notification-title {
            font-size: 13px;
            font-weight: 600;
            color: #1F2937;
        }

        .notification-time {
            font-size: 10px;
            color: #9CA3AF;
            white-space: nowrap;
        }

        .notification-message {
            font-size: 12px;
            color: #6B7280;
            line-height: 1.4;
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #9CA3AF;
        }

        .empty-state-icon {
            width: 64px;
            height: 64px;
            margin: 0 auto 16px;
            opacity: 0.3;
        }

        .empty-state-text {
            font-size: 14px;
            color: #9CA3AF;
        }

        /* ========== END NOTIFICATION SYSTEM STYLES ========== */
    </style>
</head>

<body>
    <div class="phone-mockup">
        <!-- Side Buttons -->
        <div class="silent-switch"></div>
        <div class="volume-up"></div>
        <div class="volume-down"></div>

        <div class="phone-notch"></div>
        <div class="phone-screen">
            <!-- Status Bar -->
            <div class="status-bar">
                <span>9:41</span>
                <div class="flex gap-1 items-center">
                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                        <path
                            d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z" />
                    </svg>
                    <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z" />
                    </svg>
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <rect x="1" y="6" width="18" height="12" rx="2" stroke-width="2" />
                        <path d="M23 10v4" stroke-width="3" stroke-linecap="round" />
                    </svg>
                </div>
            </div>

            <!-- Screen Content -->
            <div class="screen-content">
                <!-- Page 1: Patient Page -->
                <div class="page active" id="page-patients">
                    <div class="flex justify-between items-center mb-4">
                        <h1 class="text-zinc-800 text-xl font-semibold">Patient Management</h1>
                        <div class="flex items-center gap-2">
                            <!-- Notification Bell Icon -->
                            <div class="notification-bell-button" onclick="toggleNotificationPanel()">
                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
                                </svg>
                                <span class="notification-badge" id="notificationBadge">0</span>
                            </div>
                            <!-- Settings Icon -->
                            <div class="settings-button" onclick="alert('Settings - Feature coming soon!')">
                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                </svg>
                            </div>
                        </div>
                    </div>

                    <!-- Next Reminder Section -->
                    <div onclick="showPage('schedule')"
                        class="rounded-sm p-3 mb-4 cursor-pointer hover:opacity-90 transition-opacity"
                        style="background-color: #161B1C;">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center gap-3">
                                <div class="w-10 h-10 rounded-sm flex items-center justify-center"
                                    style="background-color: #2a2f30;">
                                    <svg class="w-5 h-5" style="color: #E6E8EA;" fill="currentColor"
                                        viewBox="0 0 20 20">
                                        <path fill-rule="evenodd"
                                            d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v3.586L7.707 9.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 10.586V7z"
                                            clip-rule="evenodd" />
                                    </svg>
                                </div>
                                <div>
                                    <p class="text-gray-400 text-xs">Next Reminder</p>
                                    <h3 class="text-white text-sm font-semibold">Paracetamol - 500mg</h3>
                                </div>
                            </div>
                            <div class="flex items-center gap-2">
                                <div class="text-right">
                                    <p class="text-white text-base font-bold">8:00 PM</p>
                                </div>
                                <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M9 5l7 7-7 7" />
                                </svg>
                            </div>
                        </div>
                    </div>

                    <!-- Current Treatments Section -->
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3 px-1">
                            <h2 class="text-zinc-800 text-base font-semibold">Current Treatments</h2>
                            <div class="menu-button" onclick="toggleDropdown(event, 'treatmentMenu')">
                                <svg fill="currentColor" viewBox="0 0 24 24">
                                    <path
                                        d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                                </svg>
                                <div class="dropdown-menu" id="treatmentMenu">
                                    <div class="dropdown-item" onclick="showPageBack('add-treatment-options')">
                                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M12 4v16m8-8H4" />
                                        </svg>
                                        <span>Add</span>
                                    </div>
                                    <div class="dropdown-item" onclick="alert('Edit - Feature coming soon!')">
                                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                                        </svg>
                                        <span>Edit</span>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <div class="treatment-slider">
                            <!-- Aspirin -->
                            <div class="treatment-card" onclick="showtreatmentDetail('aspirin')">
                                <img src="https://images.unsplash.com/photo-1584308666744-24d5c474f2ae?w=300&h=400&fit=crop"
                                    alt="Aspirin" class="treatment-image">
                                <div class="treatment-gradient">
                                    <div class="treatment-name">Aspirin</div>
                                    <div class="treatment-info">2x daily<br>Ongoing treatment</div>
                                </div>
                            </div>

                            <!-- Metformin -->
                            <div class="treatment-card" onclick="showtreatmentDetail('metformin')">
                                <img src="https://images.unsplash.com/photo-1471864190281-a93a3070b6de?w=300&h=400&fit=crop"
                                    alt="Metformin" class="treatment-image">
                                <div class="treatment-gradient">
                                    <div class="treatment-name">Metformin</div>
                                    <div class="treatment-info">3x daily<br>Ongoing treatment</div>
                                </div>
                            </div>

                            <!-- Lisinopril -->
                            <div class="treatment-card" onclick="showtreatmentDetail('lisinopril')">
                                <img src="https://images.unsplash.com/photo-1587854692152-cbe660dbde88?w=300&h=400&fit=crop"
                                    alt="Lisinopril" class="treatment-image">
                                <div class="treatment-gradient">
                                    <div class="treatment-name">Lisinopril</div>
                                    <div class="treatment-info">1x daily<br>Ongoing treatment</div>
                                </div>
                            </div>

                            <!-- Omeprazole -->
                            <div class="treatment-card" onclick="showtreatmentDetail('omeprazole')">
                                <img src="https://images.unsplash.com/photo-1585435557343-3b092031a831?w=300&h=400&fit=crop"
                                    alt="Omeprazole" class="treatment-image">
                                <div class="treatment-gradient">
                                    <div class="treatment-name">Omeprazole</div>
                                    <div class="treatment-info">1x daily<br>30 days treatment</div>
                                </div>
                            </div>

                            <!-- Amoxicillin -->
                            <div class="treatment-card" onclick="showtreatmentDetail('amoxicillin')">
                                <img src="https://images.unsplash.com/photo-1587854680352-936b22b91030?w=300&h=400&fit=crop"
                                    alt="Amoxicillin" class="treatment-image">
                                <div class="treatment-gradient">
                                    <div class="treatment-name">Amoxicillin</div>
                                    <div class="treatment-info">3x daily<br>7 days treatment</div>
                                </div>
                            </div>

                        </div>
                    </div>


                    <!-- Medical Documents -->
                    <div class="bg-FFFEFB rounded-sm p-4 mb-4" style="background-color: #FDFFFF;">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-zinc-800 text-base font-semibold">Medical Documents</h2>
                            <div class="menu-button" onclick="toggleDropdown(event, 'documentMenu')">
                                <svg fill="currentColor" viewBox="0 0 24 24">
                                    <path
                                        d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                                </svg>
                                <div class="dropdown-menu" id="documentMenu">
                                    <div class="dropdown-item" onclick="showPage('add-document-options')">
                                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M12 4v16m8-8H4" />
                                        </svg>
                                        <span>Add</span>
                                    </div>
                                    <div class="dropdown-item" onclick="alert('Edit - Feature coming soon!')">
                                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                                        </svg>
                                        <span>Edit</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Document List -->
                        <div class="space-y-3">
                            <!-- Blood Test Results -->
                            <div onclick="openDocument('blood-test')"
                                class="flex items-center gap-3 p-2 rounded-sm hover:bg-gray-50 transition-colors cursor-pointer"
                                style="border: 1px solid #e5e7eb;">
                                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ0bi3o-H9Vjm4wHHxEmI4fDNPxUAZN1WOhJQ&s"
                                    alt="Blood Test Results" class="w-16 h-16 object-cover rounded-sm">
                                <div class="flex-1">
                                    <p class="text-zinc-800 text-sm font-semibold">Blood Test Results</p>
                                    <p class="text-gray-500 text-xs">Complete Blood Count (CBC)</p>
                                    <p class="text-gray-400 text-xs mt-0.5">Oct 28, 2025</p>
                                </div>
                                <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M9 5l7 7-7 7" />
                                </svg>
                            </div>

                            <!-- X-Ray Report -->
                            <div onclick="openDocument('xray')"
                                class="flex items-center gap-3 p-2 rounded-sm hover:bg-gray-50 transition-colors cursor-pointer"
                                style="border: 1px solid #e5e7eb;">
                                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSEL29Q0UEPRpi7fNn6vQwQY75E0F6uTfeF0w&s"
                                    alt="X-Ray Report" class="w-16 h-16 object-cover rounded-sm">
                                <div class="flex-1">
                                    <p class="text-zinc-800 text-sm font-semibold">Chest X-Ray Report</p>
                                    <p class="text-gray-500 text-xs">Radiological Examination</p>
                                    <p class="text-gray-400 text-xs mt-0.5">Oct 15, 2025</p>
                                </div>
                                <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M9 5l7 7-7 7" />
                                </svg>
                            </div>

                        </div>
                    </div>
                </div>

                <!-- Page 2: treatments -->
                <div class="page" id="page-treatments">
                    <h1 class="text-zinc-800 text-xl font-semibold mb-5">Current Treatments</h1>

                    <!-- treatments Slider -->
                    <div class="rounded-sm p-4 mb-4" style="background-color: #FDFFFF;">
                        <div class="flex justify-between items-center mb-3">
                            <h2 class="text-zinc-800 text-base font-semibold">Active treatments</h2>
                            <button onclick="showPage('add-treatment')"
                                style="color: #E6E8EA; background-color: #161B1C;"
                                class="p-2 rounded-sm flex items-center gap-1">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M12 4v16m8-8H4" />
                                </svg>
                                <span class="text-xs">Add</span>
                            </button>
                        </div>

                        <div class="treatment-slider">
                            <!-- Aspirin -->
                            <div class="treatment-card" onclick="showtreatmentDetail('Aspirin')">
                                <img src="https://images.unsplash.com/photo-1584308666744-24d5c474f2ae?w=300&h=400&fit=crop"
                                    alt="Aspirin" class="treatment-image">
                                <div class="treatment-gradient">
                                    <div class="treatment-name">Aspirin</div>
                                    <div class="treatment-info">2x daily<br>Ongoing treatment</div>
                                </div>
                            </div>

                            <!-- Metformin -->
                            <div class="treatment-card" onclick="showtreatmentDetail('Metformin')">
                                <img src="https://images.unsplash.com/photo-1471864190281-a93a3070b6de?w=300&h=400&fit=crop"
                                    alt="Metformin" class="treatment-image">
                                <div class="treatment-gradient">
                                    <div class="treatment-name">Metformin</div>
                                    <div class="treatment-info">3x daily<br>Ongoing treatment</div>
                                </div>
                            </div>

                            <!-- Lisinopril -->
                            <div class="treatment-card" onclick="showtreatmentDetail('Lisinopril')">
                                <img src="https://images.unsplash.com/photo-1587854692152-cbe660dbde88?w=300&h=400&fit=crop"
                                    alt="Lisinopril" class="treatment-image">
                                <div class="treatment-gradient">
                                    <div class="treatment-name">Lisinopril</div>
                                    <div class="treatment-info">1x daily<br>Ongoing treatment</div>
                                </div>
                            </div>

                            <!-- Omeprazole -->
                            <div class="treatment-card" onclick="showtreatmentDetail('Omeprazole')">
                                <img src="https://images.unsplash.com/photo-1585435557343-3b092031a831?w=300&h=400&fit=crop"
                                    alt="Omeprazole" class="treatment-image">
                                <div class="treatment-gradient">
                                    <div class="treatment-name">Omeprazole</div>
                                    <div class="treatment-info">1x daily<br>30 days treatment</div>
                                </div>
                            </div>

                            <!-- Amoxicillin -->
                            <div class="treatment-card" onclick="showtreatmentDetail('Amoxicillin')">
                                <img src="https://images.unsplash.com/photo-1587854680352-936b22b91030?w=300&h=400&fit=crop"
                                    alt="Amoxicillin" class="treatment-image">
                                <div class="treatment-gradient">
                                    <div class="treatment-name">Amoxicillin</div>
                                    <div class="treatment-info">3x daily<br>7 days treatment</div>
                                </div>
                            </div>

                            <!-- Ibuprofen -->
                            <div class="treatment-card" onclick="showtreatmentDetail('Ibuprofen')">
                                <img src="https://images.unsplash.com/photo-1550572017-4a6a9c4d1c29?w=300&h=400&fit=crop"
                                    alt="Ibuprofen" class="treatment-image">
                                <div class="treatment-gradient">
                                    <div class="treatment-name">Ibuprofen</div>
                                    <div class="treatment-info">3x daily<br>14 days treatment</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Page 3: treatment Schedule -->
                <div class="page" id="page-schedule">
                    <div class="flex justify-between items-center mb-5">
                        <h1 class="text-zinc-800 text-xl font-semibold">treatment Schedule</h1>
                        <div class="settings-button" onclick="alert('Settings - Feature coming soon!')">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                            </svg>
                        </div>
                    </div>

                    <div class="bg-FDFFFF rounded-sm overflow-hidden mb-4" style="background-color: #FDFFFF;">
                        <!-- Header -->
                        <div class="grid grid-cols-4 gap-2 p-3 text-xs font-semibold text-zinc-800"
                            style="background-color: #FDFFFF; border-bottom: 1px solid #1977F2;">
                            <div>treatment</div>
                            <div>Today</div>
                            <div>Next treatment</div>
                            <div class="text-center">Notify</div>
                        </div>

                        <!-- Rows -->
                        <div style="background-color: #FDFFFF;">
                            <!-- Paracetamol Row -->
                            <div class="hover:bg-gray-50" style="border-top: 1px solid #f0f0f0;">
                                <div class="grid grid-cols-4 gap-2 p-3 text-xs text-zinc-800 items-center">
                                    <div class="font-medium flex items-center gap-1 cursor-pointer"
                                        onclick="showtreatmentDetail('paracetamol')">
                                        <span class="treatment-name-truncate">Paracetamol</span>
                                        <svg class="w-3 h-3 flex-shrink-0" style="color: #E58269;" fill="none"
                                            stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M9 5l7 7-7 7" />
                                        </svg>
                                    </div>
                                    <div class="text-gray-600">2/3 </div>
                                    <div>
                                        <div class="text-gray-600 font-semibold">8:00 PM</div>
                                        <div class="text-gray-400 text-[10px]">in 2h 30m</div>
                                    </div>
                                    <div class="flex justify-center">
                                        <div class="toggle-switch active" onclick="toggleNotification(this, event)">
                                            <div class="toggle-slider"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Amoxicillin Row -->
                            <div class="hover:bg-gray-50" style="border-top: 1px solid #f0f0f0;">
                                <div class="grid grid-cols-4 gap-2 p-3 text-xs text-zinc-800 items-center">
                                    <div class="font-medium flex items-center gap-1 cursor-pointer"
                                        onclick="showtreatmentDetail('amoxicillin')">
                                        <span class="treatment-name-truncate">Amoxicillin</span>
                                        <svg class="w-3 h-3 flex-shrink-0" style="color: #E58269;" fill="none"
                                            stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M9 5l7 7-7 7" />
                                        </svg>
                                    </div>
                                    <div class="text-gray-600">2/3 </div>
                                    <div>
                                        <div class="text-gray-600 font-semibold">8:00 PM</div>
                                        <div class="text-gray-400 text-[10px]">in 2h 30m</div>
                                    </div>
                                    <div class="flex justify-center">
                                        <div class="toggle-switch active" onclick="toggleNotification(this, event)">
                                            <div class="toggle-slider"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Metformin Row -->
                            <div class="hover:bg-gray-50" style="border-top: 1px solid #f0f0f0;">
                                <div class="grid grid-cols-4 gap-2 p-3 text-xs text-zinc-800 items-center">
                                    <div class="font-medium flex items-center gap-1 cursor-pointer"
                                        onclick="showtreatmentDetail('metformin')">
                                        <span class="treatment-name-truncate">Metformin</span>
                                        <svg class="w-3 h-3 flex-shrink-0" style="color: #E58269;" fill="none"
                                            stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M9 5l7 7-7 7" />
                                        </svg>
                                    </div>
                                    <div class="text-gray-600">1/2 </div>
                                    <div>
                                        <div class="text-gray-600 font-semibold">6:00 PM</div>
                                        <div class="text-gray-400 text-[10px]">in 30m</div>
                                    </div>
                                    <div class="flex justify-center">
                                        <div class="toggle-switch" onclick="toggleNotification(this, event)">
                                            <div class="toggle-slider"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Aspirin Row -->
                            <div class="hover:bg-gray-50" style="border-top: 1px solid #f0f0f0;">
                                <div class="grid grid-cols-4 gap-2 p-3 text-xs text-zinc-800 items-center">
                                    <div class="font-medium flex items-center gap-1 cursor-pointer"
                                        onclick="showtreatmentDetail('aspirin')">
                                        <span class="treatment-name-truncate">Aspirin</span>
                                        <svg class="w-3 h-3 flex-shrink-0" style="color: #E58269;" fill="none"
                                            stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M9 5l7 7-7 7" />
                                        </svg>
                                    </div>
                                    <div class="text-gray-600">0/1</div>
                                    <div>
                                        <div class="text-gray-600 font-semibold">8:00 AM</div>
                                        <div class="text-gray-400 text-[10px]">tomorrow</div>
                                    </div>
                                    <div class="flex justify-center">
                                        <div class="toggle-switch active" onclick="toggleNotification(this, event)">
                                            <div class="toggle-slider"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Ibuprofen Row -->
                            <div class="hover:bg-gray-50" style="border-top: 1px solid #f0f0f0;">
                                <div class="grid grid-cols-4 gap-2 p-3 text-xs text-zinc-800 items-center">
                                    <div class="font-medium flex items-center gap-1 cursor-pointer"
                                        onclick="showtreatmentDetail('ibuprofen')">
                                        <span class="treatment-name-truncate">Ibuprofen</span>
                                        <svg class="w-3 h-3 flex-shrink-0" style="color: #E58269;" fill="none"
                                            stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M9 5l7 7-7 7" />
                                        </svg>
                                    </div>
                                    <div class="text-gray-600">1/3 </div>
                                    <div class="text-gray-600">6:00 PM</div>
                                    <div class="flex justify-center">
                                        <div class="toggle-switch active" onclick="toggleNotification(this, event)">
                                            <div class="toggle-slider"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Lisinopril Row -->
                            <div class="hover:bg-gray-50" style="border-top: 1px solid #f0f0f0;">
                                <div class="grid grid-cols-4 gap-2 p-3 text-xs text-zinc-800 items-center">
                                    <div class="font-medium flex items-center gap-1 cursor-pointer"
                                        onclick="showtreatmentDetail('lisinopril')">
                                        <span class="treatment-name-truncate">Lisinopril</span>
                                        <svg class="w-3 h-3 flex-shrink-0" style="color: #E58269;" fill="none"
                                            stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M9 5l7 7-7 7" />
                                        </svg>
                                    </div>
                                    <div class="text-gray-600">0/1 </div>
                                    <div class="text-gray-600">7:00 AM</div>
                                    <div class="flex justify-center">
                                        <div class="toggle-switch active" onclick="toggleNotification(this, event)">
                                            <div class="toggle-slider"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- AI Suggestion Section -->
                    <div class="rounded-sm p-4 mb-4"
                        style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                        <div class="flex items-start gap-3">
                            <div class="w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0"
                                style="background-color: rgba(255, 255, 255, 0.2);">
                                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                                </svg>
                            </div>
                            <div class="flex-1">
                                <div class="flex items-center gap-2 mb-2">
                                    <span class="text-white text-xs font-bold uppercase tracking-wide">AI
                                        Suggestion</span>
                                    <div class="px-2 py-0.5 rounded-full text-[10px] font-semibold"
                                        style="background-color: rgba(255, 255, 255, 0.25); color: white;">Smart Care
                                    </div>
                                </div>
                                <p class="text-white text-sm leading-relaxed">
                                    Make sure the patient eats well before 8 PM to ensure proper medication absorption
                                    and avoid potential side effects.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Page 5: treatment Detail -->
                <div class="page" id="page-med-detail">
                    <div class="flex items-center gap-3 mb-5">
                        <button onclick="showPage('schedule')" class="text-zinc-700 p-2 rounded-sm hover:bg-gray-100">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 19l-7-7 7-7" />
                            </svg>
                        </button>
                        <h1 class="text-zinc-800 text-xl font-semibold">treatment Details</h1>
                    </div>

                    <!-- treatment Info Card -->
                    <div class="rounded-sm p-4 mb-4" style="background-color: #FDFFFF;">
                        <div class="flex items-center gap-4 mb-4">
                            <img id="med-image" src="" alt=""
                                class="w-20 h-20 rounded-sm object-contain bg-white p-2 border"
                                style="border-color: #1977F2;">
                            <div class="flex-1">
                                <h2 id="med-name" class="text-zinc-800 text-lg font-bold mb-1"></h2>
                                <p id="med-dosage" class="text-gray-600 text-sm mb-1"></p>
                                <p id="med-type" class="text-gray-500 text-xs"></p>
                            </div>
                        </div>

                        <div class="space-y-2">
                            <div class="p-2 rounded-sm" style="background-color: #f5f5f5;">
                                <span class="text-gray-600 text-xs font-medium block mb-1">Purpose:</span>
                                <p id="med-purpose" class="text-zinc-800 text-xs"></p>
                            </div>
                            <div class="p-2 rounded-sm" style="background-color: #f5f5f5;">
                                <span class="text-gray-600 text-xs font-medium block mb-1">Schedule:</span>
                                <p id="med-schedule" class="text-zinc-800 text-xs"></p>
                            </div>
                        </div>
                    </div>

                    <!-- Important Information -->
                    <div class="rounded-sm border-orange-500 p-4 mb-4" style="background-color: #FDFFFF;">
                        <h3 class="text-sm font-semibold mb-3 flex items-center gap-2" style="color: #E58269;">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd"
                                    d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z"
                                    clip-rule="evenodd" />
                            </svg>
                            Important Instructions
                        </h3>
                        <ul id="med-instructions" class="text-zinc-800 text-xs space-y-1.5 list-disc list-inside">
                        </ul>
                    </div>

                    <!-- AI Insights -->
                    <div class="rounded-sm border-blue-500 p-4 mb-4" style="background-color: #FDFFFF;">
                        <h3 class="text-blue-600 text-sm font-semibold mb-3 flex items-center gap-2">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                <path
                                    d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z" />
                            </svg>
                            AI Insights for Patient
                        </h3>
                        <div class="rounded-sm p-3 mb-3" style="background-color: #f0f7ff;">
                            <p class="text-blue-700 text-xs leading-relaxed mb-2">Based on patient profile: 68-year-old
                                male, post-operative hip replacement</p>
                            <div id="med-ai-insights" class="text-blue-800 text-xs space-y-2">
                            </div>
                        </div>
                    </div>

                    <!-- Side Effects -->
                    <div class="rounded-sm p-4 mb-4" style="background-color: #FDFFFF;">
                        <h3 class="text-zinc-800 text-sm font-semibold mb-3">Possible Side Effects</h3>
                        <ul id="med-side-effects" class="text-gray-600 text-xs space-y-1.5 list-disc list-inside">
                        </ul>
                    </div>
                </div>

                <!-- Page 4: Device Configuration -->
                <div class="page" id="page-device">
                    <div class="flex justify-between items-center mb-5">
                        <h1 class="text-zinc-800 text-xl font-semibold">Device Configuration</h1>
                        <div class="settings-button" onclick="alert('Settings - Feature coming soon!')">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                            </svg>
                        </div>
                    </div>

                    <!-- Button Settings Section -->
                    <div class="rounded-sm p-4 mb-4" style="background-color: #FDFFFF;">
                        <div class="flex justify-between items-center mb-2">
                            <h2 class="text-zinc-800 text-base font-semibold">Button Settings</h2>
                            <div class="menu-button" onclick="toggleDropdown(event, 'buttonMenu')">
                                <svg fill="currentColor" viewBox="0 0 24 24">
                                    <path
                                        d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                                </svg>
                                <div class="dropdown-menu" id="buttonMenu">
                                    <div class="dropdown-item" onclick="addNewButton()">
                                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M12 4v16m8-8H4" />
                                        </svg>
                                        <span>Add</span>
                                    </div>
                                    <div class="dropdown-item" onclick="alert('Edit - Feature coming soon!')">
                                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                                        </svg>
                                        <span>Edit</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <p class="text-gray-600 text-xs mb-4">Configure alert buttons for patient assistance</p>

                        <div class="space-y-3" id="buttonsList">
                            <!-- Water Button -->
                            <div class=" rounded-sm p-3 flex items-center justify-between"
                                style="background-color: #FDFFFF;">
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 rounded-sm bg-blue-600 flex items-center justify-center">
                                        <svg class="w-5 h-5" style="color: #E6E8EA;" fill="currentColor"
                                            viewBox="0 0 20 20">
                                            <path fill-rule="evenodd"
                                                d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v3.586L7.707 9.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 10.586V7z"
                                                clip-rule="evenodd" />
                                        </svg>
                                    </div>
                                    <div>
                                        <div class="text-zinc-800 text-sm font-semibold">Water</div>
                                        <div class="text-gray-600 text-xs">Request water assistance</div>
                                    </div>
                                </div>
                                <button onclick="showButtonConfig('water')"
                                    style="background-color: #1977F2; color: #E6E8EA;"
                                    class="text-xs font-medium px-3 py-1.5 rounded-sm">Configure</button>
                            </div>

                            <!-- Bathroom Button -->
                            <div class=" rounded-sm p-3 flex items-center justify-between"
                                style="background-color: #FDFFFF;">
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 rounded-sm bg-teal-600 flex items-center justify-center">
                                        <svg class="w-5 h-5" style="color: #E6E8EA;" fill="currentColor"
                                            viewBox="0 0 20 20">
                                            <path
                                                d="M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z" />
                                        </svg>
                                    </div>
                                    <div>
                                        <div class="text-zinc-800 text-sm font-semibold">Bathroom</div>
                                        <div class="text-gray-600 text-xs">Request bathroom assistance</div>
                                    </div>
                                </div>
                                <button onclick="showButtonConfig('bathroom')"
                                    style="background-color: #14b8a6; color: #E6E8EA;"
                                    class="text-xs font-medium px-3 py-1.5 rounded-sm">Configure</button>
                            </div>

                            <!-- Pain Button -->
                            <div class="rounded-sm p-3 flex items-center justify-between"
                                style="background-color: #FDFFFF;">
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 rounded-sm bg-red-600 flex items-center justify-center">
                                        <svg class="w-5 h-5" style="color: #E6E8EA;" fill="currentColor"
                                            viewBox="0 0 20 20">
                                            <path fill-rule="evenodd"
                                                d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z"
                                                clip-rule="evenodd" />
                                        </svg>
                                    </div>
                                    <div>
                                        <div class="text-zinc-800 text-sm font-semibold">Pain</div>
                                        <div class="text-gray-600 text-xs">Report pain or discomfort</div>
                                    </div>
                                </div>
                                <button onclick="showButtonConfig('pain')"
                                    style="background-color: #dc2626; color: #E6E8EA;"
                                    class="text-xs font-medium px-3 py-1.5 rounded-sm">Configure</button>
                            </div>

                            <!-- Position Button -->
                            <div class="rounded-sm p-3 flex items-center justify-between"
                                style="background-color: #FDFFFF;">
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 rounded-sm bg-purple-600 flex items-center justify-center">
                                        <svg class="w-5 h-5" style="color: #E6E8EA;" fill="currentColor"
                                            viewBox="0 0 20 20">
                                            <path fill-rule="evenodd"
                                                d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z"
                                                clip-rule="evenodd" />
                                        </svg>
                                    </div>
                                    <div>
                                        <div class="text-zinc-800 text-sm font-semibold">Position</div>
                                        <div class="text-gray-600 text-xs">Request position adjustment</div>
                                    </div>
                                </div>
                                <button onclick="showButtonConfig('position')"
                                    style="background-color: #9333ea; color: #E6E8EA;"
                                    class="text-xs font-medium px-3 py-1.5 rounded-sm">Configure</button>
                            </div>

                            <!-- Urgent Button -->
                            <div class=" rounded-sm p-3 flex items-center justify-between"
                                style="background-color: #FDFFFF;">
                                <div class="flex items-center gap-3">
                                    <div
                                        class="w-10 h-10 rounded-sm bg-orange-600 flex items-center justify-center animate-pulse">
                                        <svg class="w-5 h-5" style="color: #E6E8EA;" fill="currentColor"
                                            viewBox="0 0 20 20">
                                            <path fill-rule="evenodd"
                                                d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z"
                                                clip-rule="evenodd" />
                                        </svg>
                                    </div>
                                    <div>
                                        <div class="text-zinc-800 text-sm font-semibold">Urgent</div>
                                        <div class="text-gray-600 text-xs">Emergency assistance needed</div>
                                    </div>
                                </div>
                                <button onclick="showButtonConfig('urgent')"
                                    style="background-color: #ea580c; color: #E6E8EA;"
                                    class="text-xs font-medium px-3 py-1.5 rounded-sm">Configure</button>
                            </div>
                        </div>
                    </div>

                    <!-- Device Status Section -->
                    <div class="rounded-sm p-4 mb-4" style="background-color: #FDFFFF;">
                        <h2 class="text-zinc-800 text-base font-semibold mb-3">Device Status</h2>

                        <div class="space-y-3">
                            <!-- Connection Status -->
                            <div class="flex items-center justify-between p-3 bg-gray-50 rounded-sm">
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 rounded-full bg-green-100 flex items-center justify-center">
                                        <svg class="w-5 h-5 text-green-600" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd"
                                                d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                                                clip-rule="evenodd" />
                                        </svg>
                                    </div>
                                    <div>
                                        <p class="text-zinc-800 text-sm font-semibold">Connection Status</p>
                                        <p class="text-gray-600 text-xs">Device online and responsive</p>
                                    </div>
                                </div>
                                <span
                                    class="text-green-600 text-xs font-semibold bg-green-100 px-2 py-1 rounded-sm">Connected</span>
                            </div>

                            <!-- Battery Level -->
                            <div class="flex items-center justify-between p-3 bg-gray-50 rounded-sm">
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center">
                                        <svg class="w-5 h-5 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                                            <path
                                                d="M11 3a1 1 0 10-2 0v1a1 1 0 102 0V3zM15.657 5.757a1 1 0 00-1.414-1.414l-.707.707a1 1 0 001.414 1.414l.707-.707zM18 10a1 1 0 01-1 1h-1a1 1 0 110-2h1a1 1 0 011 1zM5.05 6.464A1 1 0 106.464 5.05l-.707-.707a1 1 0 00-1.414 1.414l.707.707zM5 10a1 1 0 01-1 1H3a1 1 0 110-2h1a1 1 0 011 1zM8 16v-1h4v1a2 2 0 11-4 0zM12 14c.015-.34.208-.646.477-.859a4 4 0 10-4.954 0c.27.213.462.519.476.859h4.002z" />
                                        </svg>
                                    </div>
                                    <div>
                                        <p class="text-zinc-800 text-sm font-semibold">Battery Level</p>
                                        <p class="text-gray-600 text-xs">Last charged 2 hours ago</p>
                                    </div>
                                </div>
                                <div class="flex items-center gap-2">
                                    <span class="text-blue-600 text-xs font-semibold">87%</span>
                                    <div class="w-16 h-2 bg-gray-200 rounded-full overflow-hidden">
                                        <div class="h-full bg-blue-600 rounded-full" style="width: 87%"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- Signal Strength -->
                            <div class="flex items-center justify-between p-3 bg-gray-50 rounded-sm">
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center">
                                        <svg class="w-5 h-5 text-purple-600" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd"
                                                d="M17.778 8.222c-4.296-4.296-11.26-4.296-15.556 0A1 1 0 01.808 6.808c5.076-5.077 13.308-5.077 18.384 0a1 1 0 01-1.414 1.414zM14.95 11.05a7 7 0 00-9.9 0 1 1 0 01-1.414-1.414 9 9 0 0112.728 0 1 1 0 01-1.414 1.414zM12.12 13.88a3 3 0 00-4.242 0 1 1 0 01-1.415-1.415 5 5 0 017.072 0 1 1 0 01-1.415 1.415zM9 16a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1z"
                                                clip-rule="evenodd" />
                                        </svg>
                                    </div>
                                    <div>
                                        <p class="text-zinc-800 text-sm font-semibold">Signal Strength</p>
                                        <p class="text-gray-600 text-xs">WiFi connection stable</p>
                                    </div>
                                </div>
                                <span class="text-purple-600 text-xs font-semibold">Excellent</span>
                            </div>

                            <!-- Last Activity -->
                            <div class="flex items-center justify-between p-3 bg-gray-50 rounded-sm">
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center">
                                        <svg class="w-5 h-5 text-gray-600" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd"
                                                d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z"
                                                clip-rule="evenodd" />
                                        </svg>
                                    </div>
                                    <div>
                                        <p class="text-zinc-800 text-sm font-semibold">Last Activity</p>
                                        <p class="text-gray-600 text-xs">Device last used</p>
                                    </div>
                                </div>
                                <span class="text-gray-600 text-xs font-semibold">5 minutes ago</span>
                            </div>

                            <!-- Firmware Version -->
                            <div class="flex items-center justify-between p-3 bg-gray-50 rounded-sm">
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center">
                                        <svg class="w-5 h-5 text-indigo-600" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd"
                                                d="M2 5a2 2 0 012-2h12a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V5zm3.293 1.293a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 01-1.414-1.414L7.586 10 5.293 7.707a1 1 0 010-1.414zM11 12a1 1 0 100 2h3a1 1 0 100-2h-3z"
                                                clip-rule="evenodd" />
                                        </svg>
                                    </div>
                                    <div>
                                        <p class="text-zinc-800 text-sm font-semibold">Firmware Version</p>
                                        <p class="text-gray-600 text-xs">Software up to date</p>
                                    </div>
                                </div>
                                <span class="text-indigo-600 text-xs font-semibold">v2.4.1</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Page 6: Add Treatment -->
                <div class="page" id="page-add-treatment">
                    <div class="flex items-center gap-3 mb-5">
                        <button onclick="showPage('patients')" class="text-zinc-700 p-2 rounded-sm hover:bg-gray-100">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 19l-7-7 7-7" />
                            </svg>
                        </button>
                        <h1 class="text-zinc-800 text-xl font-semibold">Add Treatment</h1>
                    </div>

                    <!-- treatment Form -->
                    <div class="rounded-sm p-4 mb-4" style="background-color: #FDFFFF;">
                        <h3 class="text-zinc-800 text-sm font-semibold mb-3">treatment Information</h3>

                        <div class="space-y-3">
                            <div>
                                <label class="text-gray-600 text-xs font-medium block mb-1">treatment Name</label>
                                <input type="text" placeholder="Enter treatment name"
                                    class="w-full text-zinc-800 text-sm rounded-sm px-3 py-2 outline-none"
                                    style="background-color: #FDFFFF;">
                            </div>

                            <div>
                                <label class="text-gray-600 text-xs font-medium block mb-1">Dosage</label>
                                <input type="text" placeholder="e.g., 500mg"
                                    class="w-full text-zinc-800 text-sm rounded-sm px-3 py-2 outline-none"
                                    style="background-color: #FDFFFF;">
                            </div>

                            <div>
                                <label class="text-gray-600 text-xs font-medium block mb-1">Type</label>
                                <select class="w-full text-zinc-800 text-sm rounded-sm px-3 py-2 outline-none"
                                    style="background-color: #FDFFFF;">
                                    <option value="">Select type</option>
                                    <option value="oral">Oral Tablet</option>
                                    <option value="capsule">Oral Capsule</option>
                                    <option value="injection">Injection</option>
                                    <option value="liquid">Liquid</option>
                                    <option value="topical">Topical</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Schedule Settings -->
                    <div class="rounded-sm p-4 mb-4" style="background-color: #FDFFFF;">
                        <h3 class="text-zinc-800 text-sm font-semibold mb-3">Schedule Settings</h3>

                        <div class="space-y-3">
                            <div>
                                <label class="text-gray-600 text-xs font-medium block mb-1">Times Per Day</label>
                                <input type="number" min="1" max="6" value="1"
                                    class="w-full text-zinc-800 text-sm rounded-sm px-3 py-2 outline-none"
                                    style="background-color: #FDFFFF;">
                            </div>

                            <div>
                                <label class="text-gray-600 text-xs font-medium block mb-1">First Dose Time</label>
                                <input type="time" value="08:00"
                                    class="w-full text-zinc-800 text-sm rounded-sm px-3 py-2 outline-none"
                                    style="background-color: #FDFFFF;">
                            </div>

                            <div>
                                <label class="text-gray-600 text-xs font-medium block mb-1">Duration</label>
                                <div class="flex items-center gap-2">
                                    <label class="flex items-center gap-2 flex-1">
                                        <input type="radio" name="duration" value="permanent" checked class="w-4 h-4"
                                            style="accent-color: #E58269;">
                                        <span class="text-zinc-800 text-xs">Permanent</span>
                                    </label>
                                    <label class="flex items-center gap-2 flex-1">
                                        <input type="radio" name="duration" value="temporary" class="w-4 h-4"
                                            style="accent-color: #E58269;">
                                        <span class="text-zinc-800 text-xs">Temporary</span>
                                    </label>
                                </div>
                            </div>

                            <div id="days-field" class="hidden">
                                <label class="text-gray-600 text-xs font-medium block mb-1">Number of Days</label>
                                <input type="number" min="1" max="365" placeholder="Enter number of days"
                                    class="w-full text-zinc-800 text-sm rounded-sm px-3 py-2 outline-none"
                                    style="background-color: #FDFFFF;">
                            </div>

                            <div>
                                <label class="text-gray-600 text-xs font-medium block mb-1">Purpose/Instructions</label>
                                <textarea rows="3" placeholder="Brief description of purpose and instructions"
                                    class="w-full text-zinc-800 text-xs rounded-sm px-3 py-2 outline-none resize-none"
                                    style="background-color: #FDFFFF;"></textarea>
                            </div>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="flex gap-3">
                        <button onclick="showPage('patients')"
                            class="flex-1 text-zinc-800 text-sm font-medium rounded-sm py-3 border"
                            style="border-color: #1977F2;">
                            Cancel
                        </button>
                        <button onclick="savetreatment()"
                            class="flex-1 text-gray-200 text-sm font-medium rounded-sm py-3"
                            style="background-color: #161B1C;">
                            Add Treatment
                        </button>
                    </div>
                </div>

                <!-- Page: Add Treatment Options -->
                <div class="page" id="page-add-treatment-options">
                    <div class="flex items-center gap-3 mb-5">
                        <button onclick="showPageBack('patients')"
                            class="text-zinc-700 p-2 rounded-sm hover:bg-gray-100">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 19l-7-7 7-7" />
                            </svg>
                        </button>
                        <h1 class="text-zinc-800 text-xl font-semibold">Add Treatment</h1>
                    </div>

                    <div class="rounded-sm p-4 mb-4" style="background-color: #FDFFFF;">
                        <h3 class="text-zinc-800 text-base font-semibold mb-4">How would you like to Add Treatment?
                        </h3>
                        <div class="space-y-3">
                            <button onclick="showPageForward('add-treatment-scan')"
                                class="w-full bg-gray-50 hover:bg-gray-100 text-zinc-800 text-sm font-medium rounded-sm py-4 flex items-center justify-center gap-3 transition-colors">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" />
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M15 13a3 3 0 11-6 0 3 3 0 016 0z" />
                                </svg>
                                <span>Scan Barcode</span>
                            </button>
                            <button onclick="showPageForward('add-treatment-manual')"
                                class="w-full bg-gray-50 hover:bg-gray-100 text-zinc-800 text-sm font-medium rounded-sm py-4 flex items-center justify-center gap-3 transition-colors">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                                </svg>
                                <span>Enter Manually</span>
                            </button>
                            <button onclick="showPageForward('add-treatment-upload')"
                                class="w-full bg-gray-50 hover:bg-gray-100 text-zinc-800 text-sm font-medium rounded-sm py-4 flex items-center justify-center gap-3 transition-colors">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                                </svg>
                                <span>Upload Barcode</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Page: Scan treatment Barcode -->
                <div class="page" id="page-add-treatment-scan">
                    <div class="flex items-center gap-3 mb-5">
                        <button onclick="showPageBack('add-treatment-options')"
                            class="text-zinc-700 p-2 rounded-sm hover:bg-gray-100">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
                                    d="M15 19l-7-7 7-7" />
                            </svg>
                        </button>
                        <h1 class="text-zinc-800 text-xl font-semibold">Scan Barcode</h1>
                    </div>

                    <div class="rounded-sm p-4 mb-4 text-center" style="background-color: #FDFFFF;">
                        <div class="bg-gray-100 rounded-sm p-8 mb-4" style="aspect-ratio: 4/3;">
                            <svg class="w-full h-full text-gray-400" fill="none" stroke="currentColor"
                                viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 13a3 3 0 11-6 0 3 3 0 016 0z" />
                            </svg>
                        </div>
                        <p class="text-zinc-800 text-sm font-medium mb-2">Position the barcode within the frame</p>
                        <p class="text-gray-500 text-xs mb-4">The camera will automatically scan the barcode</p>
                        <button onclick="scanBarcode()" class="w-full text-white text-sm font-medium rounded-sm py-3"
                            style="background-color: #161B1C;">
                            Start Scanning
                        </button>
                    </div>
                </div>

                <!-- Page: Upload treatment Barcode -->
                <div class="page" id="page-add-treatment-upload">
                    <div class="flex items-center gap-3 mb-5">
                        <button onclick="showPageBack('add-treatment-options')"
                            class="text-zinc-700 p-2 rounded-sm hover:bg-gray-100">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 19l-7-7 7-7" />
                            </svg>
                        </button>
                        <h1 class="text-zinc-800 text-xl font-semibold">Upload Barcode</h1>
                    </div>

                    <!-- Upload Section (Initially Visible) -->
                    <div id="upload-section" class="rounded-sm p-4 mb-4" style="background-color: #FDFFFF;">
                        <div class="border-2 border-dashed border-gray-300 rounded-sm p-8 text-center mb-4">
                            <svg class="w-16 h-16 mx-auto mb-4 text-gray-400" fill="none" stroke="currentColor"
                                viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                            </svg>
                            <p class="text-zinc-800 text-sm font-medium mb-2">Upload barcode image</p>
                            <p class="text-gray-500 text-xs mb-4">Select an image from your device</p>
                            <input type="file" id="barcodeUpload" accept="image/*" class="hidden"
                                onchange="processBarcodeUpload(event)">
                            <button onclick="document.getElementById('barcodeUpload').click()"
                                class="text-white text-sm font-medium rounded-sm py-2 px-6"
                                style="background-color: #161B1C;">
                                Choose File
                            </button>
                        </div>
                    </div>

                    <!-- Scanned Result Section (Hidden Initially) -->
                    <div id="scanned-result-section" style="display: none;">
                        <!-- Uploaded Image Preview -->
                        <div class="rounded-sm p-4 mb-4" style="background-color: #FDFFFF;">
                            <h3 class="text-zinc-800 text-sm font-semibold mb-3">Uploaded Image</h3>
                            <div class="rounded-sm overflow-hidden border-2" style="border-color: #e5e7eb;">
                                <img id="uploaded-image-preview" src="" alt="Uploaded"
                                    class="w-full h-48 object-contain" style="background-color: #f9fafb;">
                            </div>
                        </div>

                        <!-- Extracted Barcode -->
                        <div class="rounded-sm p-4 mb-4" style="background-color: #FDFFFF;">
                            <div class="flex items-center gap-2 mb-3">
                                <svg class="w-5 h-5" style="color: #16a34a;" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd"
                                        d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                                        clip-rule="evenodd" />
                                </svg>
                                <h3 class="text-zinc-800 text-sm font-semibold">Barcode Extracted</h3>
                            </div>
                            <div class="bg-gray-100 rounded-sm p-4 text-center">
                                <div class="mb-2">
                                    <svg class="w-full h-16" viewBox="0 0 200 60">
                                        <rect x="10" y="10" width="3" height="40" fill="#000" />
                                        <rect x="15" y="10" width="2" height="40" fill="#000" />
                                        <rect x="20" y="10" width="4" height="40" fill="#000" />
                                        <rect x="26" y="10" width="2" height="40" fill="#000" />
                                        <rect x="30" y="10" width="3" height="40" fill="#000" />
                                        <rect x="36" y="10" width="5" height="40" fill="#000" />
                                        <rect x="43" y="10" width="2" height="40" fill="#000" />
                                        <rect x="48" y="10" width="4" height="40" fill="#000" />
                                        <rect x="54" y="10" width="3" height="40" fill="#000" />
                                        <rect x="59" y="10" width="2" height="40" fill="#000" />
                                        <rect x="63" y="10" width="5" height="40" fill="#000" />
                                        <rect x="70" y="10" width="3" height="40" fill="#000" />
                                        <rect x="75" y="10" width="2" height="40" fill="#000" />
                                        <rect x="80" y="10" width="4" height="40" fill="#000" />
                                        <rect x="86" y="10" width="2" height="40" fill="#000" />
                                        <rect x="90" y="10" width="5" height="40" fill="#000" />
                                        <rect x="97" y="10" width="3" height="40" fill="#000" />
                                        <rect x="102" y="10" width="2" height="40" fill="#000" />
                                        <rect x="107" y="10" width="4" height="40" fill="#000" />
                                        <rect x="113" y="10" width="3" height="40" fill="#000" />
                                        <rect x="118" y="10" width="2" height="40" fill="#000" />
                                        <rect x="122" y="10" width="5" height="40" fill="#000" />
                                        <rect x="129" y="10" width="2" height="40" fill="#000" />
                                        <rect x="133" y="10" width="4" height="40" fill="#000" />
                                        <rect x="139" y="10" width="3" height="40" fill="#000" />
                                        <rect x="144" y="10" width="5" height="40" fill="#000" />
                                        <rect x="151" y="10" width="2" height="40" fill="#000" />
                                        <rect x="155" y="10" width="4" height="40" fill="#000" />
                                        <rect x="161" y="10" width="3" height="40" fill="#000" />
                                        <rect x="166" y="10" width="2" height="40" fill="#000" />
                                        <rect x="170" y="10" width="5" height="40" fill="#000" />
                                        <rect x="177" y="10" width="3" height="40" fill="#000" />
                                        <rect x="182" y="10" width="2" height="40" fill="#000" />
                                        <rect x="186" y="10" width="4" height="40" fill="#000" />
                                    </svg>
                                </div>
                                <p class="text-zinc-800 text-sm font-mono font-bold" id="barcode-number">3574660123456
                                </p>
                            </div>
                        </div>

                        <!-- Medication Information -->
                        <div class="rounded-sm p-4 mb-4" style="background-color: #FDFFFF;">
                            <h3 class="text-zinc-800 text-sm font-semibold mb-3">Medication Information</h3>
                            <div class="space-y-3">
                                <div class="flex items-start gap-3 pb-3" style="border-bottom: 1px solid #e5e7eb;">
                                    <div class="w-12 h-12 rounded-sm flex items-center justify-center flex-shrink-0"
                                        style="background-color: #1977F2;">
                                        <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                                            <path
                                                d="M10 2a1 1 0 011 1v1.323l3.954 1.582 1.599-.8a1 1 0 01.894 1.79l-1.233.616 1.738 5.42a1 1 0 01-.285 1.05A3.989 3.989 0 0115 15a3.989 3.989 0 01-2.667-1.019 1 1 0 01-.285-1.05l1.715-5.349L11 6.477V16h2a1 1 0 110 2H7a1 1 0 110-2h2V6.477L6.237 7.582l1.715 5.349a1 1 0 01-.285 1.05A3.989 3.989 0 015 15a3.989 3.989 0 01-2.667-1.019 1 1 0 01-.285-1.05l1.738-5.42-1.233-.617a1 1 0 01.894-1.788l1.599.799L9 4.323V3a1 1 0 011-1z" />
                                        </svg>
                                    </div>
                                    <div class="flex-1 min-w-0">
                                        <p class="text-zinc-800 text-sm font-bold" id="med-name">Amoxicillin</p>
                                        <p class="text-gray-500 text-xs" id="med-type">Antibiotic - Oral Capsule</p>
                                    </div>
                                </div>
                                <div class="bg-gray-50 rounded-sm p-3">
                                    <p class="text-gray-600 text-xs font-medium mb-1">Active Ingredient</p>
                                    <p class="text-zinc-800 text-xs" id="med-ingredient">Amoxicillin Trihydrate 500mg
                                    </p>
                                </div>
                                <div class="bg-gray-50 rounded-sm p-3">
                                    <p class="text-gray-600 text-xs font-medium mb-1">Manufacturer</p>
                                    <p class="text-zinc-800 text-xs" id="med-manufacturer">GlaxoSmithKline</p>
                                </div>
                                <div class="bg-blue-50 rounded-sm p-3" style="border-left: 3px solid #1977F2;">
                                    <p class="text-xs font-medium mb-1" style="color: #1977F2;">Common Uses</p>
                                    <p class="text-gray-600 text-xs leading-relaxed" id="med-uses">Treats bacterial
                                        infections including respiratory, urinary tract, and skin infections</p>
                                </div>
                            </div>
                        </div>

                        <!-- Treatment Details Form -->
                        <div class="rounded-sm p-4 mb-4" style="background-color: #FDFFFF;">
                            <h3 class="text-zinc-800 text-sm font-semibold mb-3">Treatment Details</h3>
                            <div class="space-y-4">
                                <!-- Dosage -->
                                <div>
                                    <label class="text-gray-600 text-xs font-medium block mb-2">Dosage per intake
                                        *</label>
                                    <div class="flex gap-2">
                                        <input type="number" id="treatment-dosage" placeholder="500"
                                            class="flex-1 text-zinc-800 text-sm rounded-sm px-3 py-2.5 border outline-none focus:border-blue-500"
                                            style="border-color: #e5e7eb; background-color: #FDFFFF;">
                                        <select id="treatment-unit"
                                            class="text-zinc-800 text-sm rounded-sm px-3 py-2.5 border outline-none focus:border-blue-500"
                                            style="border-color: #e5e7eb; background-color: #FDFFFF; min-width: 100px;">
                                            <option value="mg">mg</option>
                                            <option value="g">g</option>
                                            <option value="ml">ml</option>
                                            <option value="tablets">tablets</option>
                                            <option value="capsules">capsules</option>
                                        </select>
                                    </div>
                                </div>

                                <!-- Frequency -->
                                <div>
                                    <label class="text-gray-600 text-xs font-medium block mb-2">Times per day *</label>
                                    <select id="treatment-frequency"
                                        class="w-full text-zinc-800 text-sm rounded-sm px-3 py-2.5 border outline-none focus:border-blue-500"
                                        style="border-color: #e5e7eb; background-color: #FDFFFF;">
                                        <option value="">Select frequency</option>
                                        <option value="1">Once daily</option>
                                        <option value="2">Twice daily</option>
                                        <option value="3">Three times daily</option>
                                        <option value="4">Four times daily</option>
                                        <option value="custom">Custom schedule</option>
                                    </select>
                                </div>

                                <!-- Times -->
                                <div id="treatment-times-container" style="display: none;">
                                    <label class="text-gray-600 text-xs font-medium block mb-2">Intake times</label>
                                    <div class="space-y-2" id="treatment-times-list">
                                        <!-- Dynamic time inputs will be added here -->
                                    </div>
                                </div>

                                <!-- Duration -->
                                <div>
                                    <label class="text-gray-600 text-xs font-medium block mb-2">Treatment
                                        duration</label>
                                    <div class="flex gap-2">
                                        <input type="number" id="treatment-duration" placeholder="7"
                                            class="flex-1 text-zinc-800 text-sm rounded-sm px-3 py-2.5 border outline-none focus:border-blue-500"
                                            style="border-color: #e5e7eb; background-color: #FDFFFF;">
                                        <select id="treatment-duration-unit"
                                            class="text-zinc-800 text-sm rounded-sm px-3 py-2.5 border outline-none focus:border-blue-500"
                                            style="border-color: #e5e7eb; background-color: #FDFFFF; min-width: 100px;">
                                            <option value="days">Days</option>
                                            <option value="weeks">Weeks</option>
                                            <option value="months">Months</option>
                                            <option value="ongoing">Ongoing</option>
                                        </select>
                                    </div>
                                </div>

                                <!-- Start Date -->
                                <div>
                                    <label class="text-gray-600 text-xs font-medium block mb-2">Start date *</label>
                                    <input type="date" id="treatment-start-date"
                                        class="w-full text-zinc-800 text-sm rounded-sm px-3 py-2.5 border outline-none focus:border-blue-500"
                                        style="border-color: #e5e7eb; background-color: #FDFFFF;">
                                </div>

                                <!-- Special Instructions -->
                                <div>
                                    <label class="text-gray-600 text-xs font-medium block mb-2">Special
                                        instructions</label>
                                    <textarea id="treatment-instructions" rows="3"
                                        placeholder="e.g., Take with food, avoid dairy products..."
                                        class="w-full text-zinc-800 text-xs rounded-sm px-3 py-2.5 border outline-none resize-none focus:border-blue-500 leading-relaxed"
                                        style="border-color: #e5e7eb; background-color: #FDFFFF;"></textarea>
                                </div>
                            </div>
                        </div>

                        <!-- Action Buttons -->
                        <div class="flex gap-3 mb-20">
                            <button onclick="cancelBarcodeUpload()"
                                class="flex-1 text-zinc-800 text-sm font-medium rounded-sm py-3 border"
                                style="border-color: #1977F2;">
                                Cancel
                            </button>
                            <button onclick="confirmBarcodetreatment()"
                                class="flex-1 text-white text-sm font-medium rounded-sm py-3"
                                style="background-color: #161B1C;">
                                Confirm & Add
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Page: Select Treatment Type -->
                <div class="page" id="page-add-treatment-manual">
                    <div class="flex items-center gap-3 mb-5">
                        <button onclick="showPageBack('add-treatment-options')"
                            class="text-zinc-700 p-2 rounded-sm hover:bg-gray-100">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 19l-7-7 7-7" />
                            </svg>
                        </button>
                        <h1 class="text-zinc-800 text-xl font-semibold">Select Treatment Type</h1>
                    </div>

                    <div class="space-y-3">
                        <!-- Medication Option -->
                        <div onclick="selectTreatmentType('medication')"
                            class="rounded-sm p-4 flex items-center gap-4 cursor-pointer hover:shadow-md transition-shadow"
                            style="background-color: #FDFFFF; border: 2px solid #f0f0f0;">
                            <div class="w-12 h-12 rounded-sm flex items-center justify-center"
                                style="background-color: #E8F4FF;">
                                <svg class="w-6 h-6" style="color: #1977F2;" fill="currentColor" viewBox="0 0 20 20">
                                    <path
                                        d="M10 2a1 1 0 011 1v1.323l3.954 1.582 1.599-.8a1 1 0 01.894 1.79l-1.233.616 1.738 5.42a1 1 0 01-.285 1.05A3.989 3.989 0 0115 15a3.989 3.989 0 01-2.667-1.019 1 1 0 01-.285-1.05l1.715-5.349L11 6.477V16h2a1 1 0 110 2H7a1 1 0 110-2h2V6.477L6.237 7.582l1.715 5.349a1 1 0 01-.285 1.05A3.989 3.989 0 015 15a3.989 3.989 0 01-2.667-1.019 1 1 0 01-.285-1.05l1.738-5.42-1.233-.617a1 1 0 01.894-1.788l1.599.799L9 4.323V3a1 1 0 011-1z" />
                                </svg>
                            </div>
                            <div class="flex-1">
                                <h3 class="text-zinc-800 text-sm font-semibold mb-1">Medication (Oral)</h3>
                                <p class="text-gray-500 text-xs">Tablets, capsules, liquid medication</p>
                            </div>
                            <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M9 5l7 7-7 7" />
                            </svg>
                        </div>

                        <!-- Injection Option -->
                        <div onclick="selectTreatmentType('injection')"
                            class="rounded-sm p-4 flex items-center gap-4 cursor-pointer hover:shadow-md transition-shadow"
                            style="background-color: #FDFFFF; border: 2px solid #f0f0f0;">
                            <div class="w-12 h-12 rounded-sm flex items-center justify-center"
                                style="background-color: #FFF3E0;">
                                <svg class="w-6 h-6" style="color: #F57C00;" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4" />
                                </svg>
                            </div>
                            <div class="flex-1">
                                <h3 class="text-zinc-800 text-sm font-semibold mb-1">Injection</h3>
                                <p class="text-gray-500 text-xs">Subcutaneous, intramuscular, intravenous</p>
                            </div>
                            <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M9 5l7 7-7 7" />
                            </svg>
                        </div>

                        <!-- Topical Option -->
                        <div onclick="selectTreatmentType('topical')"
                            class="rounded-sm p-4 flex items-center gap-4 cursor-pointer hover:shadow-md transition-shadow"
                            style="background-color: #FDFFFF; border: 2px solid #f0f0f0;">
                            <div class="w-12 h-12 rounded-sm flex items-center justify-center"
                                style="background-color: #F3E5F5;">
                                <svg class="w-6 h-6" style="color: #8E24AA;" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd"
                                        d="M7 2a1 1 0 00-.707 1.707L7 4.414v3.758a1 1 0 01-.293.707l-4 4C.817 14.769 2.156 18 4.828 18h10.343c2.673 0 4.012-3.231 2.122-5.121l-4-4A1 1 0 0113 8.172V4.414l.707-.707A1 1 0 0013 2H7zm2 6.172V4h2v4.172a3 3 0 00.879 2.12l1.027 1.028a4 4 0 00-2.171.102l-.47.156a4 4 0 01-2.53 0l-.563-.187a1.993 1.993 0 00-.114-.035l1.063-1.063A3 3 0 009 8.172z"
                                        clip-rule="evenodd" />
                                </svg>
                            </div>
                            <div class="flex-1">
                                <h3 class="text-zinc-800 text-sm font-semibold mb-1">Topical / On Body</h3>
                                <p class="text-gray-500 text-xs">Creams, ointments, patches, sprays</p>
                            </div>
                            <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M9 5l7 7-7 7" />
                            </svg>
                        </div>

                        <!-- Physical Therapy Option -->
                        <div onclick="selectTreatmentType('physical')"
                            class="rounded-sm p-4 flex items-center gap-4 cursor-pointer hover:shadow-md transition-shadow"
                            style="background-color: #FDFFFF; border: 2px solid #f0f0f0;">
                            <div class="w-12 h-12 rounded-sm flex items-center justify-center"
                                style="background-color: #E8F5E9;">
                                <svg class="w-6 h-6" style="color: #43A047;" fill="currentColor" viewBox="0 0 20 20">
                                    <path
                                        d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z" />
                                </svg>
                            </div>
                            <div class="flex-1">
                                <h3 class="text-zinc-800 text-sm font-semibold mb-1">Physical Therapy</h3>
                                <p class="text-gray-500 text-xs">Massage, exercises, rehabilitation</p>
                            </div>
                            <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M9 5l7 7-7 7" />
                            </svg>
                        </div>

                        <!-- Other Option -->
                        <div onclick="selectTreatmentType('other')"
                            class="rounded-sm p-4 flex items-center gap-4 cursor-pointer hover:shadow-md transition-shadow"
                            style="background-color: #FDFFFF; border: 2px solid #f0f0f0;">
                            <div class="w-12 h-12 rounded-sm flex items-center justify-center"
                                style="background-color: #F5F5F5;">
                                <svg class="w-6 h-6" style="color: #616161;" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd"
                                        d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z"
                                        clip-rule="evenodd" />
                                </svg>
                            </div>
                            <div class="flex-1">
                                <h3 class="text-zinc-800 text-sm font-semibold mb-1">Other Treatment</h3>
                                <p class="text-gray-500 text-xs">Custom treatment type</p>
                            </div>
                            <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M9 5l7 7-7 7" />
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- Page: Add Treatment Details Form -->
                <div class="page" id="page-add-treatment-details">
                    <div class="flex items-center gap-3 mb-5">
                        <button onclick="showPageBack('add-treatment-manual')"
                            class="text-zinc-700 p-2 rounded-sm hover:bg-gray-100">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 19l-7-7 7-7" />
                            </svg>
                        </button>
                        <h1 class="text-zinc-800 text-xl font-semibold">Treatment Details</h1>
                    </div>

                    <div class="rounded-sm p-4 mb-4" style="background-color: #FDFFFF;">
                        <h3 class="text-zinc-800 text-sm font-semibold mb-3" id="formTitle">Treatment Information</h3>
                        <div class="space-y-3" id="treatmentFormFields">
                            <!-- Dynamic fields will be inserted here -->
                        </div>
                    </div>

                    <div class="flex gap-3">
                        <button onclick="showPageBack('add-treatment-manual')"
                            class="flex-1 text-zinc-800 text-sm font-medium rounded-sm py-3 border"
                            style="border-color: #1977F2;">
                            Cancel
                        </button>
                        <button onclick="submitManualtreatment()"
                            class="flex-1 text-gray-200 text-sm font-medium rounded-sm py-3"
                            style="background-color: #161B1C;">
                            Add Treatment
                        </button>
                    </div>
                </div>

                <!-- Page: treatment Validation -->
                <div class="page" id="page-treatment-validation">
                    <div class="flex items-center gap-3 mb-5">
                        <button onclick="showPageBack('add-treatment-options')"
                            class="text-zinc-700 p-2 rounded-sm hover:bg-gray-100">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 19l-7-7 7-7" />
                            </svg>
                        </button>
                        <h1 class="text-zinc-800 text-xl font-semibold">Verify treatment</h1>
                    </div>

                    <div class="rounded-sm p-4 mb-4" style="background-color: #FDFFFF;">
                        <div class="text-center mb-4">
                            <div
                                class="w-20 h-20 bg-green-100 rounded-full mx-auto mb-3 flex items-center justify-center">
                                <svg class="w-10 h-10 text-green-600" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M5 13l4 4L19 7" />
                                </svg>
                            </div>
                            <p class="text-zinc-800 text-sm font-semibold">treatment information retrieved successfully
                            </p>
                            <p class="text-gray-500 text-xs mt-1">Please verify the details below</p>
                        </div>

                        <div class="space-y-3">
                            <div class="p-3 bg-gray-50 rounded-sm">
                                <p class="text-gray-600 text-xs font-medium mb-1">treatment Name</p>
                                <p id="validationName" class="text-zinc-800 text-sm font-semibold">--</p>
                            </div>
                            <div class="p-3 bg-gray-50 rounded-sm">
                                <p class="text-gray-600 text-xs font-medium mb-1">Dosage</p>
                                <p id="validationDosage" class="text-zinc-800 text-sm">--</p>
                            </div>
                            <div class="p-3 bg-gray-50 rounded-sm">
                                <p class="text-gray-600 text-xs font-medium mb-1">Type</p>
                                <p id="validationType" class="text-zinc-800 text-sm">--</p>
                            </div>
                            <div class="p-3 bg-gray-50 rounded-sm">
                                <p class="text-gray-600 text-xs font-medium mb-1">Manufacturer</p>
                                <p id="validationManufacturer" class="text-zinc-800 text-sm">--</p>
                            </div>
                            <div class="p-3 bg-gray-50 rounded-sm">
                                <p class="text-gray-600 text-xs font-medium mb-1">Active Ingredients</p>
                                <p id="validationIngredients" class="text-zinc-800 text-xs">--</p>
                            </div>
                        </div>
                    </div>

                    <div class="flex gap-3">
                        <button onclick="showPageBack('add-treatment-options')"
                            class="flex-1 text-zinc-800 text-sm font-medium rounded-sm py-3 border"
                            style="border-color: #1977F2;">
                            Cancel
                        </button>
                        <button onclick="confirmtreatment()"
                            class="flex-1 text-gray-200 text-sm font-medium rounded-sm py-3"
                            style="background-color: #161B1C;">
                            Confirm & Add
                        </button>
                    </div>
                </div>

                <!-- Page: Add Document Options -->
                <div class="page" id="page-add-document-options">
                    <div class="flex items-center gap-3 mb-5">
                        <button onclick="showPageBack('patients')"
                            class="text-zinc-700 p-2 rounded-sm hover:bg-gray-100">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 19l-7-7 7-7" />
                            </svg>
                        </button>
                        <h1 class="text-zinc-800 text-xl font-semibold">Add Document</h1>
                    </div>

                    <div class="rounded-sm p-4 mb-4" style="background-color: #FDFFFF;">
                        <h3 class="text-zinc-800 text-base font-semibold mb-4">How would you like to add document?</h3>
                        <div class="space-y-3">
                            <button onclick="showPageForward('add-document-scan')"
                                class="w-full bg-gray-50 hover:bg-gray-100 text-zinc-800 text-sm font-medium rounded-sm py-4 flex items-center justify-center gap-3 transition-colors">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" />
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M15 13a3 3 0 11-6 0 3 3 0 016 0z" />
                                </svg>
                                <span>Scan Document</span>
                            </button>
                            <button onclick="showPageForward('add-document-manual')"
                                class="w-full bg-gray-50 hover:bg-gray-100 text-zinc-800 text-sm font-medium rounded-sm py-4 flex items-center justify-center gap-3 transition-colors">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                                </svg>
                                <span>Enter Manually</span>
                            </button>
                            <button onclick="showPageForward('add-document-upload')"
                                class="w-full bg-gray-50 hover:bg-gray-100 text-zinc-800 text-sm font-medium rounded-sm py-4 flex items-center justify-center gap-3 transition-colors">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                                </svg>
                                <span>Upload Image</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Page: Scan Document -->
                <div class="page" id="page-add-document-scan">
                    <div class="flex items-center gap-3 mb-5">
                        <button onclick="showPageBack('add-document-options')"
                            class="text-zinc-700 p-2 rounded-sm hover:bg-gray-100">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 19l-7-7 7-7" />
                            </svg>
                        </button>
                        <h1 class="text-zinc-800 text-xl font-semibold">Scan Document</h1>
                    </div>

                    <div class="rounded-sm p-4 mb-4 text-center" style="background-color: #FDFFFF;">
                        <div class="bg-gray-100 rounded-sm p-8 mb-4" style="aspect-ratio: 4/3;">
                            <svg class="w-full h-full text-gray-400" fill="none" stroke="currentColor"
                                viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 13a3 3 0 11-6 0 3 3 0 016 0z" />
                            </svg>
                        </div>
                        <p class="text-zinc-800 text-sm font-medium mb-2">Position the document within the frame</p>
                        <p class="text-gray-500 text-xs mb-4">The camera will capture and process the document</p>
                        <button onclick="scanDocument()" class="w-full text-white text-sm font-medium rounded-sm py-3"
                            style="background-color: #161B1C;">
                            Start Scanning
                        </button>
                    </div>
                </div>

                <!-- Page: Upload Document -->
                <div class="page" id="page-add-document-upload">
                    <div class="flex items-center gap-3 mb-5">
                        <button onclick="showPageBack('add-document-options')"
                            class="text-zinc-700 p-2 rounded-sm hover:bg-gray-100">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 19l-7-7 7-7" />
                            </svg>
                        </button>
                        <h1 class="text-zinc-800 text-xl font-semibold">Upload Document</h1>
                    </div>

                    <div class="rounded-sm p-4 mb-4" style="background-color: #FDFFFF;">
                        <div class="border-2 border-dashed border-gray-300 rounded-sm p-8 text-center mb-4">
                            <svg class="w-16 h-16 mx-auto mb-4 text-gray-400" fill="none" stroke="currentColor"
                                viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                            </svg>
                            <p class="text-zinc-800 text-sm font-medium mb-2">Upload document image</p>
                            <p class="text-gray-500 text-xs mb-4">Select an image from your device</p>
                            <input type="file" id="documentUpload" accept="image/*" class="hidden"
                                onchange="uploadDocument(event)">
                            <button onclick="document.getElementById('documentUpload').click()"
                                class="text-white text-sm font-medium rounded-sm py-2 px-6"
                                style="background-color: #161B1C;">
                                Choose File
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Page: Add Document Manual Form -->
                <div class="page" id="page-add-document-manual">
                    <div class="flex items-center gap-3 mb-5">
                        <button onclick="showPageBack('add-document-options')"
                            class="text-zinc-700 p-2 rounded-sm hover:bg-gray-100">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 19l-7-7 7-7" />
                            </svg>
                        </button>
                        <h1 class="text-zinc-800 text-xl font-semibold">Add Document Manually</h1>
                    </div>

                    <div class="rounded-sm p-4 mb-4" style="background-color: #FDFFFF;">
                        <h3 class="text-zinc-800 text-sm font-semibold mb-3">Document Information</h3>
                        <div class="space-y-3">
                            <div>
                                <label class="text-gray-600 text-xs font-medium block mb-1">Document Type *</label>
                                <select id="manualDocType"
                                    class="w-full text-zinc-800 text-sm rounded-sm px-3 py-2 outline-none border border-gray-200"
                                    style="background-color: #FDFFFF;">
                                    <option value="">Select type</option>
                                    <option value="Blood Test">Blood Test Results</option>
                                    <option value="X-Ray">X-Ray Report</option>
                                    <option value="MRI">MRI Scan</option>
                                    <option value="Prescription">Prescription</option>
                                    <option value="Lab Report">Laboratory Report</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                            <div>
                                <label class="text-gray-600 text-xs font-medium block mb-1">Document Title *</label>
                                <input type="text" id="manualDocTitle" placeholder="e.g., Complete Blood Count"
                                    class="w-full text-zinc-800 text-sm rounded-sm px-3 py-2 outline-none border border-gray-200"
                                    style="background-color: #FDFFFF;">
                            </div>
                            <div>
                                <label class="text-gray-600 text-xs font-medium block mb-1">Date *</label>
                                <input type="date" id="manualDocDate"
                                    class="w-full text-zinc-800 text-sm rounded-sm px-3 py-2 outline-none border border-gray-200"
                                    style="background-color: #FDFFFF;">
                            </div>
                            <div>
                                <label class="text-gray-600 text-xs font-medium block mb-1">Doctor/Facility</label>
                                <input type="text" id="manualDocDoctor" placeholder="e.g., Dr. Smith"
                                    class="w-full text-zinc-800 text-sm rounded-sm px-3 py-2 outline-none border border-gray-200"
                                    style="background-color: #FDFFFF;">
                            </div>
                            <div>
                                <label class="text-gray-600 text-xs font-medium block mb-1">Notes</label>
                                <textarea id="manualDocNotes" rows="3" placeholder="Additional information..."
                                    class="w-full text-zinc-800 text-xs rounded-sm px-3 py-2 outline-none resize-none border border-gray-200"
                                    style="background-color: #FDFFFF;"></textarea>
                            </div>
                            <div>
                                <label class="text-gray-600 text-xs font-medium block mb-1">Document Image *</label>
                                <input type="file" id="manualDocImage" accept="image/*"
                                    class="w-full text-zinc-800 text-xs rounded-sm px-3 py-2 outline-none border border-gray-200"
                                    style="background-color: #FDFFFF;">
                                <p class="text-gray-400 text-xs mt-1">Upload a clear photo or scan of the document</p>
                            </div>
                        </div>
                    </div>

                    <div class="flex gap-3">
                        <button onclick="showPageBack('add-document-options')"
                            class="flex-1 text-zinc-800 text-sm font-medium rounded-sm py-3 border"
                            style="border-color: #1977F2;">
                            Cancel
                        </button>
                        <button onclick="submitManualDocument()"
                            class="flex-1 text-gray-200 text-sm font-medium rounded-sm py-3"
                            style="background-color: #161B1C;">
                            Add Document
                        </button>
                    </div>
                </div>

                <!-- Page: Document Validation -->
                <div class="page" id="page-document-validation">
                    <div class="flex items-center gap-3 mb-5">
                        <button onclick="showPageBack('add-document-options')"
                            class="text-zinc-700 p-2 rounded-sm hover:bg-gray-100">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 19l-7-7 7-7" />
                            </svg>
                        </button>
                        <h1 class="text-zinc-800 text-xl font-semibold">Verify Document</h1>
                    </div>

                    <div class="rounded-sm p-4 mb-4" style="background-color: #FDFFFF;">
                        <div class="text-center mb-4">
                            <div
                                class="w-20 h-20 bg-green-100 rounded-full mx-auto mb-3 flex items-center justify-center">
                                <svg class="w-10 h-10 text-green-600" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M5 13l4 4L19 7" />
                                </svg>
                            </div>
                            <p class="text-zinc-800 text-sm font-semibold">Document processed successfully</p>
                            <p class="text-gray-500 text-xs mt-1">Please verify the details below</p>
                        </div>

                        <div class="mb-4">
                            <img id="docValidationImage"
                                src="https://m.media-amazon.com/images/I/61nniep2G-L._AC_SL1000_.jpg"
                                alt="Document Preview" class="w-full rounded-sm border border-gray-200">
                        </div>

                        <div class="space-y-3">
                            <div class="p-3 bg-gray-50 rounded-sm">
                                <p class="text-gray-600 text-xs font-medium mb-1">Document Type</p>
                                <p id="docValidationType" class="text-zinc-800 text-sm font-semibold">--</p>
                            </div>
                            <div class="p-3 bg-gray-50 rounded-sm">
                                <p class="text-gray-600 text-xs font-medium mb-1">Title</p>
                                <p id="docValidationTitle" class="text-zinc-800 text-sm">--</p>
                            </div>
                            <div class="p-3 bg-gray-50 rounded-sm">
                                <p class="text-gray-600 text-xs font-medium mb-1">Date</p>
                                <p id="docValidationDate" class="text-zinc-800 text-sm">--</p>
                            </div>
                            <div class="p-3 bg-gray-50 rounded-sm">
                                <p class="text-gray-600 text-xs font-medium mb-1">Facility/Doctor</p>
                                <p id="docValidationFacility" class="text-zinc-800 text-sm">--</p>
                            </div>
                        </div>
                    </div>

                    <div class="flex gap-3">
                        <button onclick="showPageBack('add-document-options')"
                            class="flex-1 text-zinc-800 text-sm font-medium rounded-sm py-3 border"
                            style="border-color: #1977F2;">
                            Cancel
                        </button>
                        <button onclick="confirmDocument()"
                            class="flex-1 text-gray-200 text-sm font-medium rounded-sm py-3"
                            style="background-color: #161B1C;">
                            Confirm & Add
                        </button>
                    </div>
                </div>

                <!-- Page 7: Button Configuration -->
                <div class="page" id="page-button-config">
                    <div class="flex items-center gap-3 mb-5">
                        <button onclick="showPage('device')" class="text-zinc-700 p-2 rounded-sm hover:bg-gray-100">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 19l-7-7 7-7" />
                            </svg>
                        </button>
                        <h1 class="text-zinc-800 text-xl font-semibold">Configure Button</h1>
                    </div>

                    <!-- Button Name Display -->
                    <div class="rounded-sm p-4 mb-4" style="background-color: #FDFFFF;">
                        <h2 id="config-button-name" class="text-zinc-800 text-lg font-bold mb-1"></h2>
                        <p class="text-gray-600 text-xs">Customize button settings for patient device</p>
                    </div>

                    <!-- Notification Sound -->
                    <div class="rounded-sm p-4 mb-4" style="background-color: #FDFFFF;">
                        <h3 class="text-zinc-800 text-sm font-semibold mb-3 flex items-center gap-2">
                            <svg class="w-5 h-5" style="color: #E58269;" fill="currentColor" viewBox="0 0 20 20">
                                <path
                                    d="M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z" />
                            </svg>
                            Notification Sound
                        </h3>
                        <select id="sound-select" class="w-full text-zinc-800 text-sm rounded-sm px-3 py-2 outline-none"
                            style="background-color: #FDFFFF;">
                            <option value="bell">Bell Sound</option>
                            <option value="chime">Chime Sound</option>
                            <option value="alert">Alert Sound</option>
                            <option value="beep">Beep Sound</option>
                            <option value="ringtone">Ringtone Sound</option>
                            <option value="notification">Notification Sound</option>
                        </select>
                        <button onclick="playSound()"
                            class="mt-3 text-gray-200 text-xs font-medium px-4 py-2 rounded-sm"
                            style="background-color: #161B1C;">
                            ðŸ”Š Test Sound
                        </button>
                    </div>

                    <!-- Button Color -->
                    <div class="rounded-sm p-4 mb-4" style="background-color: #FDFFFF;">
                        <h3 class="text-zinc-800 text-sm font-semibold mb-3 flex items-center gap-2">
                            <svg class="w-5 h-5" style="color: #E58269;" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd"
                                    d="M4 2a2 2 0 00-2 2v11a3 3 0 106 0V4a2 2 0 00-2-2H4zm1 14a1 1 0 100-2 1 1 0 000 2zm5-1.757l4.9-4.9a2 2 0 000-2.828L13.485 5.1a2 2 0 00-2.828 0L10 5.757v8.486zM16 18H9.071l6-6H16a2 2 0 012 2v2a2 2 0 01-2 2z"
                                    clip-rule="evenodd" />
                            </svg>
                            Button Color
                        </h3>
                        <div class="grid grid-cols-4 gap-3">
                            <button onclick="selectColor('#2563eb')"
                                class="w-full h-12 rounded-sm border-2 hover:scale-105 transition-transform"
                                style="background-color: #2563eb; border-color: #1977F2;"></button>
                            <button onclick="selectColor('#0d9488')"
                                class="w-full h-12 rounded-sm border-2 hover:scale-105 transition-transform"
                                style="background-color: #0d9488; border-color: #1977F2;"></button>
                            <button onclick="selectColor('#dc2626')"
                                class="w-full h-12 rounded-sm border-2 hover:scale-105 transition-transform"
                                style="background-color: #dc2626; border-color: #1977F2;"></button>
                            <button onclick="selectColor('#9333ea')"
                                class="w-full h-12 rounded-sm border-2 hover:scale-105 transition-transform"
                                style="background-color: #9333ea; border-color: #1977F2;"></button>
                            <button onclick="selectColor('#ea580c')"
                                class="w-full h-12 rounded-sm border-2 hover:scale-105 transition-transform"
                                style="background-color: #ea580c; border-color: #1977F2;"></button>
                            <button onclick="selectColor('#16a34a')"
                                class="w-full h-12 rounded-sm border-2 hover:scale-105 transition-transform"
                                style="background-color: #16a34a; border-color: #1977F2;"></button>
                            <button onclick="selectColor('#e11d48')"
                                class="w-full h-12 rounded-sm border-2 hover:scale-105 transition-transform"
                                style="background-color: #e11d48; border-color: #1977F2;"></button>
                            <button onclick="selectColor('#7c3aed')"
                                class="w-full h-12 rounded-sm border-2 hover:scale-105 transition-transform"
                                style="background-color: #7c3aed; border-color: #1977F2;"></button>
                        </div>
                        <p id="selected-color" class="text-gray-600 text-xs mt-3">Selected: Default</p>
                    </div>

                    <!-- Button Size -->
                    <div class="rounded-sm p-4 mb-4" style="background-color: #FDFFFF;">
                        <h3 class="text-zinc-800 text-sm font-semibold mb-3 flex items-center gap-2">
                            <svg class="w-5 h-5" style="color: #E58269;" fill="currentColor" viewBox="0 0 20 20">
                                <path
                                    d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z" />
                            </svg>
                            Button Size
                        </h3>
                        <div class="space-y-3">
                            <label class="flex items-center gap-3 p-3 rounded-sm cursor-pointer hover:bg-gray-50"
                                style="border-color: #1977F2;">
                                <input type="radio" name="button-size" value="medium" checked class="w-4 h-4"
                                    style="accent-color: #E58269;">
                                <div class="flex-1">
                                    <div class="text-zinc-800 text-sm font-semibold">Medium</div>
                                    <div class="text-gray-600 text-xs">Takes half a row (2 buttons per row)</div>
                                </div>
                                <div class="w-16 h-10 rounded flex items-center justify-center text-xs"
                                    style="background-color: #161B1C; color: white;">
                                    50%
                                </div>
                            </label>
                            <label class="flex items-center gap-3 p-3 rounded-sm cursor-pointer hover:bg-gray-50"
                                style="border-color: #1977F2;">
                                <input type="radio" name="button-size" value="large" class="w-4 h-4"
                                    style="accent-color: #E58269;">
                                <div class="flex-1">
                                    <div class="text-zinc-800 text-sm font-semibold">Large</div>
                                    <div class="text-gray-600 text-xs">Takes full row (1 button per row)</div>
                                </div>
                                <div class="w-16 h-10 rounded flex items-center justify-center text-xs"
                                    style="background-color: #161B1C; color: white;">
                                    100%
                                </div>
                            </label>
                        </div>
                    </div>

                    <!-- Save Button -->
                    <div class="flex gap-3">
                        <button onclick="showPage('device')"
                            class="flex-1 text-zinc-800 text-sm font-medium rounded-sm py-3 border"
                            style="border-color: #1977F2;">
                            Cancel
                        </button>
                        <button onclick="saveButtonConfig()"
                            class="flex-1 text-gray-200 text-sm font-medium rounded-sm py-3"
                            style="background-color: #161B1C;">
                            Save Changes
                        </button>
                    </div>
                </div>

                <!-- Document Detail Page -->
                <div class="page" id="page-document-detail" style="background-color: #F4F7FB;">
                    <!-- Back Button -->
                    <div class="flex items-center gap-3 mb-5">
                        <button onclick="showPage('patients')" class="text-zinc-700 p-2 rounded-sm hover:bg-gray-100">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 19l-7-7 7-7" />
                            </svg>
                        </button>
                        <div>
                            <h1 class="text-zinc-800 text-xl font-semibold" id="doc-title">Document Details</h1>
                            <p class="text-gray-500 text-xs" id="doc-subtitle">Medical Analysis</p>
                        </div>
                    </div>

                    <!-- Document Image -->
                    <div class="rounded-sm overflow-hidden mb-4" style="background-color: #FDFFFF; padding: 16px;">
                        <h2 class="text-zinc-800 text-sm font-bold mb-3 flex items-center gap-2">
                            <svg class="w-5 h-5" style="color: #1977F2;" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd"
                                    d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z"
                                    clip-rule="evenodd" />
                            </svg>
                            Document Picture
                        </h2>
                        <img id="doc-image" src="" alt="Document" class="w-full h-64 object-contain rounded-sm border-2"
                            style="border-color: #e5e7eb;">
                    </div>

                    <!-- Extracted Data -->
                    <div class="rounded-sm p-4 mb-4" style="background-color: #FDFFFF;">
                        <h2 class="text-zinc-800 text-sm font-bold mb-3 flex items-center gap-2">
                            <svg class="w-5 h-5" style="color: #1977F2;" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd"
                                    d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                                    clip-rule="evenodd" />
                            </svg>
                            Extracted Data
                        </h2>

                        <div class="flex items-start gap-3 mb-3 pb-3" style="border-bottom: 1px solid #e5e7eb;">
                            <div class="w-10 h-10 rounded-sm flex items-center justify-center"
                                style="background-color: #1977F2;">
                                <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd"
                                        d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z"
                                        clip-rule="evenodd" />
                                </svg>
                            </div>
                            <div class="flex-1">
                                <p class="text-zinc-800 text-sm font-semibold" id="doc-type">Document Type</p>
                                <p class="text-gray-500 text-xs" id="doc-date">Date</p>
                            </div>
                        </div>
                        <p class="text-gray-600 text-xs leading-relaxed mb-4" id="doc-description">Document description
                        </p>

                        <h3 class="text-zinc-800 text-xs font-bold mb-3 uppercase tracking-wide"
                            style="color: #6B7280;">
                            Measurements & Results
                        </h3>
                        <div class="space-y-2" id="doc-results"></div>
                    </div>

                    <!-- AI Analysis -->
                    <div class="rounded-sm p-4 mb-4 text-white"
                        style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                        <div class="flex items-start gap-3">
                            <div
                                class="w-8 h-8 rounded-full bg-white bg-opacity-20 flex items-center justify-center flex-shrink-0">
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                    <path
                                        d="M11 3a1 1 0 10-2 0v1a1 1 0 102 0V3zM15.657 5.757a1 1 0 00-1.414-1.414l-.707.707a1 1 0 001.414 1.414l.707-.707zM18 10a1 1 0 01-1 1h-1a1 1 0 110-2h1a1 1 0 011 1zM5.05 6.464A1 1 0 106.464 5.05l-.707-.707a1 1 0 00-1.414 1.414l.707.707zM5 10a1 1 0 01-1 1H3a1 1 0 110-2h1a1 1 0 011 1zM8 16v-1h4v1a2 2 0 11-4 0zM12 14c.015-.34.208-.646.477-.859a4 4 0 10-4.954 0c.27.213.462.519.476.859h4.002z" />
                                </svg>
                            </div>
                            <div class="flex-1">
                                <div class="flex items-center gap-2 mb-1">
                                    <span class="text-white text-xs font-bold">AI Analysis</span>
                                    <span class="text-xs px-2 py-0.5 rounded-full bg-white bg-opacity-20">Smart
                                        Care</span>
                                </div>
                                <p class="text-white text-xs opacity-90 leading-relaxed" id="doc-ai-analysis">AI
                                    insights</p>
                            </div>
                        </div>
                    </div>

                    <!-- Patient Context -->
                    <div class="rounded-sm p-4 mb-4" style="background-color: #FDFFFF;">
                        <h3 class="text-zinc-800 text-xs font-bold mb-2 uppercase tracking-wide"
                            style="color: #6B7280;">
                            Patient Context
                        </h3>
                        <p class="text-gray-600 text-xs leading-relaxed" id="doc-context">Patient context</p>
                    </div>

                    <!-- Clinical Notes -->
                    <div class="rounded-sm p-4 mb-4" style="background-color: #FDFFFF;">
                        <h3 class="text-zinc-800 text-xs font-bold mb-2 uppercase tracking-wide"
                            style="color: #6B7280;">
                            Clinical Notes
                        </h3>
                        <div class="p-3 rounded-sm" style="background-color: #F4F7FB;">
                            <p class="text-gray-600 text-xs leading-relaxed" id="doc-notes">Clinical notes</p>
                        </div>
                    </div>

                    <!-- Recommendations -->
                    <div class="rounded-sm p-4 mb-20" style="background-color: #FDFFFF;">
                        <h3 class="text-zinc-800 text-xs font-bold mb-3 uppercase tracking-wide flex items-center gap-2"
                            style="color: #6B7280;">
                            <svg class="w-4 h-4" style="color: #16a34a;" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd"
                                    d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03zM12.12 15.12A3 3 0 017 13s.879.5 2.5.5c0-1 .5-4 1.25-4.5.5 1 .786 1.293 1.371 1.879A2.99 2.99 0 0113 13a2.99 2.99 0 01-.879 2.121z"
                                    clip-rule="evenodd" />
                            </svg>
                            Care Recommendations
                        </h3>
                        <ul class="space-y-2" id="doc-recommendations"></ul>
                    </div>
                </div>
            </div>

            <!-- ========== NOTIFICATION SYSTEM COMPONENTS ========== -->

            <!-- Push Notification Popup (appears at top for 5-6 seconds) -->
            <div class="push-notification" id="pushNotification">
                <div class="push-notif-header">
                    <div class="push-notif-icon" id="pushNotifIconContainer">
                        <span id="pushNotifIcon">ðŸ””</span>
                    </div>
                    <div class="push-notif-content">
                        <div class="push-notif-title" id="pushNotifTitle">Patient Alert</div>
                        <div class="push-notif-message" id="pushNotifMessage">New request received</div>
                        <div class="push-notif-time" id="pushNotifTime">Just now</div>
                    </div>
                </div>
            </div>

            <!-- Notification Panel (slides from right) -->
            <div class="notification-panel" id="notificationPanel">
                <div class="notification-panel-header">
                    <div class="flex items-center justify-between mb-3">
                        <div class="notification-panel-title">Notifications</div>
                        <button class="notif-action-btn notif-close" onclick="toggleNotificationPanel()">
                            <svg class="w-4 h-4 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>
                    <div class="notification-panel-actions">
                        <button class="notif-action-btn notif-mark-read" onclick="markAllAsRead()">
                            âœ“ Mark All as Read
                        </button>
                        <button class="notif-action-btn notif-close" onclick="clearAllNotifications()">
                            ðŸ—‘ï¸ Clear All
                        </button>
                    </div>
                </div>
                <div class="notification-list" id="notificationList">
                    <div class="no-notifications">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
                        </svg>
                        <p>No notifications yet</p>
                    </div>
                </div>
            </div>

            <!-- ========== END NOTIFICATION SYSTEM COMPONENTS ========== -->

            <!-- Bottom Navigation -->
            <div class="bottom-nav">
                <div class="nav-item active" onclick="showPage('patients')">
                    <svg class="nav-icon" fill="currentColor" viewBox="0 0 20 20">
                        <path
                            d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z" />
                    </svg>
                    <span>Patients</span>
                </div>
                <div class="nav-item" onclick="showPage('schedule')">
                    <svg class="nav-icon" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd"
                            d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z"
                            clip-rule="evenodd" />
                    </svg>
                    <span>Schedule</span>
                </div>
                <div class="nav-item" onclick="showPage('device')">
                    <svg class="nav-icon" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd"
                            d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z"
                            clip-rule="evenodd" />
                    </svg>
                    <span>Device</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        const treatmentData = {
            paracetamol: {
                name: 'Paracetamol',
                dosage: '500mg',
                type: 'Oral Tablet',
                image: 'https://images.unsplash.com/photo-1471864190281-a93a3070b6de?w=300&h=400&fit=crop',
                purpose: 'Pain relief and fever reduction for post-operative discomfort',
                schedule: '3 times daily - 8:00 AM, 2:00 PM, 8:00 PM',
                instructions: ['Take with or without food', 'Do not exceed 4000mg per day', 'Avoid alcohol consumption', 'May cause liver damage if overdosed', 'Space doses at least 4-6 hours apart'],
                aiInsights: ['âœ“ Suitable for elderly patients with no kidney issues', 'âš  Monitor liver function due to age', 'âœ“ Good choice for post-operative pain management', 'âš  Ensure adequate hydration', 'âœ“ Can be combined with physical therapy'],
                sideEffects: ['Nausea (rare)', 'Skin rash or allergic reaction', 'Liver damage with overdose', 'Unusual bleeding or bruising']
            },
            insulin: {
                name: 'Insulin',
                dosage: '10 units',
                type: 'Subcutaneous Injection',
                image: 'https://images.unsplash.com/photo-1550572017-4a6a9c4d1c29?w=300&h=400&fit=crop',
                purpose: 'Blood glucose management for diabetes control',
                schedule: 'Before breakfast - 9:00 AM',
                instructions: ['Administer 15-30 minutes before meals', 'Store in refrigerator', 'Monitor blood glucose levels regularly', 'Rotate injection sites', 'Check expiration date before use'],
                aiInsights: ['âœ“ Dosage appropriate for age and weight', 'âš  Monitor for hypoglycemia especially during recovery', 'âœ“ Coordinate timing with meal schedules', 'âš  Reduced mobility may affect glucose levels', 'âœ“ Consider adjusting dose based on activity level'],
                sideEffects: ['Hypoglycemia (low blood sugar)', 'Injection site reactions', 'Weight gain', 'Swelling of hands and feet']
            },
            amoxicillin: {
                name: 'Amoxicillin',
                dosage: '250mg',
                type: 'Oral Capsule',
                image: 'https://images.unsplash.com/photo-1587854680352-936b22b91030?w=300&h=400&fit=crop',
                purpose: 'Antibiotic to prevent post-surgical infection',
                schedule: '3 times daily - 8:00 AM, 12:00 PM, 8:00 PM',
                instructions: ['Take with food to reduce stomach upset', 'Complete full course even if feeling better', 'May cause diarrhea or nausea', 'Avoid if allergic to penicillin', 'Take at evenly spaced intervals'],
                aiInsights: ['âœ“ Standard prophylactic antibiotic for hip surgery', 'âš  Monitor for C. difficile infection in elderly', 'âœ“ Course duration appropriate for surgical wound', 'âš  Watch for signs of allergic reaction', 'âœ“ Probiotic supplementation may help prevent GI issues'],
                sideEffects: ['Diarrhea', 'Nausea or vomiting', 'Skin rash', 'Yeast infection', 'Allergic reactions']
            },
            metformin: {
                name: 'Metformin',
                dosage: '850mg',
                type: 'Oral Tablet',
                image: 'https://images.unsplash.com/photo-1471864190281-a93a3070b6de?w=300&h=400&fit=crop',
                purpose: 'Type 2 diabetes management and blood sugar control',
                schedule: 'Twice daily with meals - 8:00 AM, 6:00 PM',
                instructions: ['Take with meals to minimize GI upset', 'Do not crush or chew tablets', 'Avoid excessive alcohol', 'May cause vitamin B12 deficiency over time', 'Swallow whole with water'],
                aiInsights: ['âœ“ First-line treatment for type 2 diabetes', 'âš  May need dose adjustment during recovery period', 'âœ“ Helps prevent diabetic complications', 'âš  Risk of lactic acidosis in post-operative state', 'âœ“ Regular B12 level monitoring recommended'],
                sideEffects: ['Gastrointestinal upset', 'Diarrhea', 'Metallic taste', 'Vitamin B12 deficiency', 'Lactic acidosis (rare but serious)']
            },
            aspirin: {
                name: 'Aspirin',
                dosage: '100mg',
                type: 'Oral Tablet',
                image: 'https://images.unsplash.com/photo-1584308666744-24d5c474f2ae?w=300&h=400&fit=crop',
                purpose: 'Blood thinner to prevent clots after surgery',
                schedule: 'Once daily - 8:00 AM',
                instructions: ['Take with food or milk', 'May increase bleeding risk', 'Do not take with other NSAIDs', 'Avoid if you have stomach ulcers', 'Report any unusual bleeding'],
                aiInsights: ['âœ“ Low dose appropriate for DVT prevention', 'âš  Increased bleeding risk during physical therapy', 'âœ“ Essential for post-surgical thromboprophylaxis', 'âš  Monitor for GI bleeding in elderly', 'âœ“ Continue for recommended duration post-op'],
                sideEffects: ['Stomach irritation', 'Increased bleeding tendency', 'Bruising', 'Tinnitus (ringing in ears)', 'Allergic reactions']
            },
            ibuprofen: {
                name: 'Ibuprofen',
                dosage: '400mg',
                type: 'Oral Tablet',
                image: 'https://images.unsplash.com/photo-1550572017-4a6a9c4d1c29?w=300&h=400&fit=crop',
                purpose: 'Anti-inflammatory and pain relief',
                schedule: 'As needed, up to 3 times daily with meals',
                instructions: ['Take with food to reduce stomach irritation', 'Do not take with aspirin or other NSAIDs', 'May cause dizziness or drowsiness', 'Avoid in patients with kidney problems', 'Maximum 1200mg per day'],
                aiInsights: ['âœ“ Effective for post-operative inflammation', 'âš  Use cautiously with aspirin (both NSAIDs)', 'âœ“ Helps with mobility during physical therapy', 'âš  Monitor kidney function in elderly patients', 'âœ“ Short-term use preferred'],
                sideEffects: ['Stomach upset or pain', 'Heartburn', 'Dizziness', 'Kidney problems with long-term use', 'Increased blood pressure']
            },
            omeprazole: {
                name: 'Omeprazole',
                dosage: '20mg',
                type: 'Oral Capsule',
                image: 'https://images.unsplash.com/photo-1585435557343-3b092031a831?w=300&h=400&fit=crop',
                purpose: 'Stomach protection against acid damage from treatments',
                schedule: 'Once daily before breakfast - 7:30 AM',
                instructions: ['Take 30 minutes before meals', 'Swallow whole, do not crush or chew', 'May reduce absorption of calcium and magnesium', 'Long-term use may increase fracture risk', 'Best taken in the morning'],
                aiInsights: ['âœ“ Protects stomach from aspirin and NSAIDs', 'âš  Monitor calcium levels due to fracture risk', 'âœ“ Important for patients on multiple treatments', 'âš  May affect absorption of other treatments', 'âœ“ Consider calcium/vitamin D supplementation'],
                sideEffects: ['Headache', 'Nausea', 'Diarrhea or constipation', 'Bone fracture risk (long-term)', 'Vitamin B12 deficiency']
            },
            lisinopril: {
                name: 'Lisinopril',
                dosage: '10mg',
                type: 'Oral Tablet',
                image: 'https://images.unsplash.com/photo-1587854692152-cbe660dbde88?w=300&h=400&fit=crop',
                purpose: 'Blood pressure management and heart protection',
                schedule: 'Once daily - 7:00 AM',
                instructions: ['Take at the same time each day', 'Do not use salt substitutes containing potassium', 'May cause dizziness when standing up', 'Monitor blood pressure regularly', 'Rise slowly from sitting/lying position'],
                aiInsights: ['âœ“ ACE inhibitor protects heart and kidneys', 'âš  Risk of hypotension during recovery', 'âœ“ Important for long-term cardiovascular health', 'âš  Monitor potassium levels carefully', 'âœ“ May need dose adjustment based on BP readings'],
                sideEffects: ['Dry cough', 'Dizziness or lightheadedness', 'Fatigue', 'Elevated potassium levels', 'Angioedema (rare but serious)']
            }
        };

        // Document data
        const DOCUMENTS = {
            'blood-test': {
                name: 'Blood Test Results',
                type: 'Complete Blood Count (CBC)',
                date: 'Oct 28, 2025',
                image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ0bi3o-H9Vjm4wHHxEmI4fDNPxUAZN1WOhJQ&s',
                description: 'Comprehensive blood analysis including red blood cells, white blood cells, hemoglobin, hematocrit, and platelet count.',
                aiAnalysis: 'Analysis shows slightly elevated white blood cell count, which is expected post-surgery. Hemoglobin levels are within acceptable range. No immediate concerns, but continued monitoring recommended during recovery.',
                results: [
                    { name: 'White Blood Cells', value: '9.2 K/ÂµL', status: 'normal', range: '4.5-11.0 K/ÂµL' },
                    { name: 'Red Blood Cells', value: '4.8 M/ÂµL', status: 'normal', range: '4.5-5.9 M/ÂµL' },
                    { name: 'Hemoglobin', value: '14.2 g/dL', status: 'normal', range: '13.5-17.5 g/dL' },
                    { name: 'Hematocrit', value: '42.5%', status: 'normal', range: '38.8-50.0%' },
                    { name: 'Platelets', value: '245 K/ÂµL', status: 'normal', range: '150-400 K/ÂµL' },
                    { name: 'Glucose', value: '118 mg/dL', status: 'elevated', range: '70-100 mg/dL' }
                ],
                caseContext: 'Patient is recovering from hip replacement surgery performed 10 days ago. This routine blood work was ordered to monitor post-operative healing and check for any signs of infection or complications.',
                clinicalNotes: 'Patient is progressing well post-surgery. Slight elevation in glucose levels noted, consistent with known diabetes diagnosis. Wound healing normally with no signs of infection. Continue current antibiotic regimen.',
                recommendations: [
                    'Continue monitoring blood glucose levels due to slight elevation',
                    'Maintain current antibiotic treatment (Amoxicillin) as scheduled',
                    'Follow-up blood test recommended in 2 weeks',
                    'Ensure adequate hydration and nutrition for optimal healing',
                    'Continue physical therapy as planned'
                ]
            },
            'xray': {
                name: 'Chest X-Ray Report',
                type: 'Radiological Examination',
                date: 'Oct 15, 2025',
                image: 'https://media.post.rvohealth.io/wp-content/uploads/2020/08/chest-x-ray-732x549-thumbnail-732x549.jpg',
                description: 'Chest radiograph performed to assess cardiac and pulmonary status before surgical procedure.',
                aiAnalysis: 'Pre-operative chest X-ray shows clear lung fields with no acute abnormalities. Heart size is within normal limits. No signs of fluid accumulation or infection. Patient cleared for surgical procedure.',
                results: [
                    { name: 'Lung Fields', value: 'Clear', status: 'normal', range: 'Clear bilaterally' },
                    { name: 'Heart Size', value: 'Normal', status: 'normal', range: 'Cardiothoracic ratio < 0.5' },
                    { name: 'Mediastinum', value: 'Normal', status: 'normal', range: 'Normal contours' },
                    { name: 'Pleural Space', value: 'Clear', status: 'normal', range: 'No effusion' },
                    { name: 'Bones', value: 'No fractures', status: 'normal', range: 'Intact' },
                    { name: 'Soft Tissues', value: 'Normal', status: 'normal', range: 'Unremarkable' }
                ],
                caseContext: 'Pre-operative assessment for planned hip replacement surgery. Patient has history of hypertension and type 2 diabetes, requiring thorough cardiovascular and respiratory evaluation before anesthesia.',
                clinicalNotes: 'Examination reveals no contraindications for surgery. Cardiac silhouette is normal. No evidence of cardiomegaly. Both hemidiaphragms are intact and well-visualized. No pleural effusion or pneumothorax detected.',
                recommendations: [
                    'Patient cleared for surgical procedure',
                    'Continue current cardiac and diabetes medications',
                    'Post-operative chest X-ray if respiratory symptoms develop',
                    'Monitor for any signs of respiratory complications after surgery',
                    'Encourage deep breathing exercises post-operatively'
                ]
            }
        };

        // Show document detail
        function openDocument(docId) {
            console.log('openDocument called with:', docId);
            const doc = DOCUMENTS[docId];
            if (!doc) {
                console.error('Document not found:', docId);
                return;
            }
            console.log('Document found:', doc);

            // Update all text content
            document.getElementById('doc-title').textContent = doc.name;
            document.getElementById('doc-subtitle').textContent = doc.type;
            document.getElementById('doc-image').src = doc.image;
            document.getElementById('doc-type').textContent = doc.type;
            document.getElementById('doc-date').textContent = doc.date;
            document.getElementById('doc-description').textContent = doc.description;
            document.getElementById('doc-ai-analysis').textContent = doc.aiAnalysis;
            document.getElementById('doc-context').textContent = doc.caseContext;
            document.getElementById('doc-notes').textContent = doc.clinicalNotes;

            // Build results HTML
            const resultsHTML = doc.results.map(r => `
                <div class="flex items-center justify-between p-2 rounded" style="background-color: ${r.status === 'normal' ? '#f0fdf4' : '#fef2f2'};">
                    <div class="flex-1">
                        <p class="text-zinc-800 text-xs font-medium">${r.name}</p>
                        <p class="text-gray-500 text-xs">Range: ${r.range}</p>
                    </div>
                    <div class="text-right">
                        <p class="text-zinc-800 text-xs font-bold">${r.value}</p>
                        <span class="text-xs px-2 py-0.5 rounded-full" style="background-color: ${r.status === 'normal' ? '#16a34a' : '#dc2626'}; color: white;">
                            ${r.status === 'normal' ? 'âœ“ Normal' : 'âš  Check'}
                        </span>
                    </div>
                </div>
            `).join('');
            document.getElementById('doc-results').innerHTML = resultsHTML;

            // Build recommendations HTML
            const recsHTML = doc.recommendations.map(rec => `
                <li class="flex items-start gap-2 text-gray-600 text-xs">
                    <svg class="w-4 h-4 mt-0.5 flex-shrink-0" style="color: #16a34a;" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                    </svg>
                    <span>${rec}</span>
                </li>
            `).join('');
            document.getElementById('doc-recommendations').innerHTML = recsHTML;

            // Navigate to page
            console.log('About to navigate to document-detail page');
            showPageForward('document-detail');
            console.log('Navigation complete');
        }

        function showPage(pageName) {
            const currentPage = document.querySelector('.page.active');
            const newPage = document.getElementById('page-' + pageName);

            if (currentPage && newPage) {
                currentPage.classList.add('slide-out-left');
                setTimeout(() => {
                    currentPage.classList.remove('active', 'slide-out-left');
                    newPage.classList.add('active');
                }, 300);
            } else if (newPage) {
                newPage.classList.add('active');
            }

            // Update navigation
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });

            if (['patients', 'schedule', 'device'].includes(pageName)) {
                const navItems = document.querySelectorAll('.nav-item');
                const index = ['patients', 'schedule', 'device'].indexOf(pageName);
                if (navItems[index]) navItems[index].classList.add('active');
            }
        }

        // Forward navigation with slide from right
        function showPageForward(pageName) {
            const currentPage = document.querySelector('.page.active');
            const newPage = document.getElementById('page-' + pageName);

            if (currentPage && newPage) {
                currentPage.classList.add('slide-out-left');
                setTimeout(() => {
                    currentPage.classList.remove('active', 'slide-out-left');
                    newPage.classList.add('active');
                }, 300);
            } else if (newPage) {
                newPage.classList.add('active');
            }
        }

        // Backward navigation with slide from left
        function showPageBack(pageName) {
            const currentPage = document.querySelector('.page.active');
            const newPage = document.getElementById('page-' + pageName);

            if (currentPage && newPage) {
                currentPage.classList.add('slide-out-right');
                setTimeout(() => {
                    currentPage.classList.remove('active', 'slide-out-right');
                    newPage.classList.add('active');
                }, 300);
            } else if (newPage) {
                newPage.classList.add('active');
            }
        }

        // treatment functions
        let selectedTreatmentType = '';

        function selectTreatmentType(type) {
            selectedTreatmentType = type;
            generateTreatmentForm(type);
            showPageForward('add-treatment-details');
        }

        function generateTreatmentForm(type) {
            const formFields = document.getElementById('treatmentFormFields');
            const formTitle = document.getElementById('formTitle');

            let fieldsHTML = '';

            // Common fields for all types
            fieldsHTML += `
                <div>
                    <label class="text-gray-600 text-xs font-medium block mb-1">Treatment Name *</label>
                    <input type="text" id="manualMedName" placeholder="Enter treatment name"
                        class="w-full text-zinc-800 text-sm rounded-sm px-3 py-2 outline-none border border-gray-200"
                        style="background-color: #FDFFFF;">
                </div>
            `;

            // Type-specific fields
            switch (type) {
                case 'medication':
                    formTitle.textContent = 'Medication Information';
                    fieldsHTML += `
                        <div>
                            <label class="text-gray-600 text-xs font-medium block mb-1">Dosage *</label>
                            <input type="text" id="manualMedDosage" placeholder="e.g., 500mg, 10ml"
                                class="w-full text-zinc-800 text-sm rounded-sm px-3 py-2 outline-none border border-gray-200"
                                style="background-color: #FDFFFF;">
                        </div>
                        <div>
                            <label class="text-gray-600 text-xs font-medium block mb-1">Medication Type *</label>
                            <select id="manualMedType"
                                class="w-full text-zinc-800 text-sm rounded-sm px-3 py-2 outline-none border border-gray-200"
                                style="background-color: #FDFFFF;">
                                <option value="">Select type</option>
                                <option value="Tablet">Tablet</option>
                                <option value="Capsule">Capsule</option>
                                <option value="Liquid">Liquid</option>
                                <option value="Syrup">Syrup</option>
                                <option value="Powder">Powder</option>
                            </select>
                        </div>
                        <div>
                            <label class="text-gray-600 text-xs font-medium block mb-1">Times Per Day *</label>
                            <input type="number" id="manualMedTimes" min="1" max="6" value="1"
                                class="w-full text-zinc-800 text-sm rounded-sm px-3 py-2 outline-none border border-gray-200"
                                style="background-color: #FDFFFF;">
                        </div>
                        <div>
                            <label class="text-gray-600 text-xs font-medium block mb-1">Take With</label>
                            <select id="manualMedWith"
                                class="w-full text-zinc-800 text-sm rounded-sm px-3 py-2 outline-none border border-gray-200"
                                style="background-color: #FDFFFF;">
                                <option value="any">Any time</option>
                                <option value="food">With food</option>
                                <option value="empty">On empty stomach</option>
                                <option value="water">With water</option>
                            </select>
                        </div>
                    `;
                    break;

                case 'injection':
                    formTitle.textContent = 'Injection Information';
                    fieldsHTML += `
                        <div>
                            <label class="text-gray-600 text-xs font-medium block mb-1">Dosage/Units *</label>
                            <input type="text" id="manualMedDosage" placeholder="e.g., 10 units, 5ml"
                                class="w-full text-zinc-800 text-sm rounded-sm px-3 py-2 outline-none border border-gray-200"
                                style="background-color: #FDFFFF;">
                        </div>
                        <div>
                            <label class="text-gray-600 text-xs font-medium block mb-1">Injection Type *</label>
                            <select id="manualMedType"
                                class="w-full text-zinc-800 text-sm rounded-sm px-3 py-2 outline-none border border-gray-200"
                                style="background-color: #FDFFFF;">
                                <option value="">Select type</option>
                                <option value="Subcutaneous">Subcutaneous (under skin)</option>
                                <option value="Intramuscular">Intramuscular (in muscle)</option>
                                <option value="Intravenous">Intravenous (in vein)</option>
                                <option value="Intradermal">Intradermal (in skin)</option>
                            </select>
                        </div>
                        <div>
                            <label class="text-gray-600 text-xs font-medium block mb-1">Injection Site</label>
                            <input type="text" id="manualMedSite" placeholder="e.g., Upper arm, thigh"
                                class="w-full text-zinc-800 text-sm rounded-sm px-3 py-2 outline-none border border-gray-200"
                                style="background-color: #FDFFFF;">
                        </div>
                        <div>
                            <label class="text-gray-600 text-xs font-medium block mb-1">Times Per Day *</label>
                            <input type="number" id="manualMedTimes" min="1" max="6" value="1"
                                class="w-full text-zinc-800 text-sm rounded-sm px-3 py-2 outline-none border border-gray-200"
                                style="background-color: #FDFFFF;">
                        </div>
                    `;
                    break;

                case 'topical':
                    formTitle.textContent = 'Topical Treatment Information';
                    fieldsHTML += `
                        <div>
                            <label class="text-gray-600 text-xs font-medium block mb-1">Application Type *</label>
                            <select id="manualMedType"
                                class="w-full text-zinc-800 text-sm rounded-sm px-3 py-2 outline-none border border-gray-200"
                                style="background-color: #FDFFFF;">
                                <option value="">Select type</option>
                                <option value="Cream">Cream</option>
                                <option value="Ointment">Ointment</option>
                                <option value="Gel">Gel</option>
                                <option value="Patch">Patch</option>
                                <option value="Spray">Spray</option>
                                <option value="Lotion">Lotion</option>
                            </select>
                        </div>
                        <div>
                            <label class="text-gray-600 text-xs font-medium block mb-1">Application Area *</label>
                            <input type="text" id="manualMedDosage" placeholder="e.g., Back, left knee, chest"
                                class="w-full text-zinc-800 text-sm rounded-sm px-3 py-2 outline-none border border-gray-200"
                                style="background-color: #FDFFFF;">
                        </div>
                        <div>
                            <label class="text-gray-600 text-xs font-medium block mb-1">Times Per Day *</label>
                            <input type="number" id="manualMedTimes" min="1" max="6" value="2"
                                class="w-full text-zinc-800 text-sm rounded-sm px-3 py-2 outline-none border border-gray-200"
                                style="background-color: #FDFFFF;">
                        </div>
                        <div>
                            <label class="text-gray-600 text-xs font-medium block mb-1">Amount Per Application</label>
                            <input type="text" id="manualMedAmount" placeholder="e.g., Thin layer, 2 pumps"
                                class="w-full text-zinc-800 text-sm rounded-sm px-3 py-2 outline-none border border-gray-200"
                                style="background-color: #FDFFFF;">
                        </div>
                    `;
                    break;

                case 'physical':
                    formTitle.textContent = 'Physical Therapy Information';
                    fieldsHTML += `
                        <div>
                            <label class="text-gray-600 text-xs font-medium block mb-1">Therapy Type *</label>
                            <select id="manualMedType"
                                class="w-full text-zinc-800 text-sm rounded-sm px-3 py-2 outline-none border border-gray-200"
                                style="background-color: #FDFFFF;">
                                <option value="">Select type</option>
                                <option value="Massage">Massage</option>
                                <option value="Exercise">Exercise</option>
                                <option value="Stretching">Stretching</option>
                                <option value="Heat Therapy">Heat Therapy</option>
                                <option value="Cold Therapy">Cold Therapy</option>
                                <option value="Ultrasound">Ultrasound</option>
                                <option value="Electrical Stimulation">Electrical Stimulation</option>
                            </select>
                        </div>
                        <div>
                            <label class="text-gray-600 text-xs font-medium block mb-1">Target Area *</label>
                            <input type="text" id="manualMedDosage" placeholder="e.g., Hip, shoulder, lower back"
                                class="w-full text-zinc-800 text-sm rounded-sm px-3 py-2 outline-none border border-gray-200"
                                style="background-color: #FDFFFF;">
                        </div>
                        <div>
                            <label class="text-gray-600 text-xs font-medium block mb-1">Duration *</label>
                            <input type="text" id="manualMedDuration" placeholder="e.g., 15 minutes, 30 minutes"
                                class="w-full text-zinc-800 text-sm rounded-sm px-3 py-2 outline-none border border-gray-200"
                                style="background-color: #FDFFFF;">
                        </div>
                        <div>
                            <label class="text-gray-600 text-xs font-medium block mb-1">Times Per Day *</label>
                            <input type="number" id="manualMedTimes" min="1" max="6" value="1"
                                class="w-full text-zinc-800 text-sm rounded-sm px-3 py-2 outline-none border border-gray-200"
                                style="background-color: #FDFFFF;">
                        </div>
                    `;
                    break;

                case 'other':
                    formTitle.textContent = 'Treatment Information';
                    fieldsHTML += `
                        <div>
                            <label class="text-gray-600 text-xs font-medium block mb-1">Treatment Type *</label>
                            <input type="text" id="manualMedType" placeholder="Enter treatment type"
                                class="w-full text-zinc-800 text-sm rounded-sm px-3 py-2 outline-none border border-gray-200"
                                style="background-color: #FDFFFF;">
                        </div>
                        <div>
                            <label class="text-gray-600 text-xs font-medium block mb-1">Description *</label>
                            <input type="text" id="manualMedDosage" placeholder="Treatment details"
                                class="w-full text-zinc-800 text-sm rounded-sm px-3 py-2 outline-none border border-gray-200"
                                style="background-color: #FDFFFF;">
                        </div>
                        <div>
                            <label class="text-gray-600 text-xs font-medium block mb-1">Frequency *</label>
                            <input type="number" id="manualMedTimes" min="1" max="6" value="1"
                                class="w-full text-zinc-800 text-sm rounded-sm px-3 py-2 outline-none border border-gray-200"
                                style="background-color: #FDFFFF;">
                        </div>
                    `;
                    break;
            }

            // Common fields for all types
            fieldsHTML += `
                <div>
                    <label class="text-gray-600 text-xs font-medium block mb-1">Instructions</label>
                    <textarea id="manualMedInstructions" rows="3" placeholder="Special instructions..."
                        class="w-full text-zinc-800 text-xs rounded-sm px-3 py-2 outline-none resize-none border border-gray-200"
                        style="background-color: #FDFFFF;"></textarea>
                </div>
                <div>
                    <label class="text-gray-600 text-xs font-medium block mb-1">Treatment Image (Optional)</label>
                    <input type="file" id="manualMedImage" accept="image/*"
                        class="w-full text-zinc-800 text-xs rounded-sm px-3 py-2 outline-none border border-gray-200"
                        style="background-color: #FDFFFF;">
                    <p class="text-gray-400 text-xs mt-1">Upload a photo for easy identification</p>
                </div>
            `;

            formFields.innerHTML = fieldsHTML;
        }

        function scanBarcode() {
            alert('Scanning barcode...');
            setTimeout(() => {
                const mockData = {
                    name: 'Paracetamol',
                    dosage: '500mg',
                    type: 'Tablet',
                    manufacturer: 'Generic Pharma',
                    ingredients: 'Paracetamol (Acetaminophen) 500mg'
                };
                displayValidation(mockData);
                showPageForward('treatment-validation');
            }, 1500);
        }

        // Process barcode upload and show medication info
        function processBarcodeUpload(event) {
            const file = event.target.files[0];
            if (!file) return;

            // Show uploaded image
            const reader = new FileReader();
            reader.onload = function (e) {
                document.getElementById('uploaded-image-preview').src = e.target.result;

                // Simulate API processing delay
                setTimeout(() => {
                    // Hide upload section, show result section
                    document.getElementById('upload-section').style.display = 'none';
                    document.getElementById('scanned-result-section').style.display = 'block';

                    // Set today as default start date
                    const today = new Date().toISOString().split('T')[0];
                    document.getElementById('treatment-start-date').value = today;
                }, 1000);
            };
            reader.readAsDataURL(file);
        }

        // Handle frequency change to show/hide time inputs
        document.addEventListener('DOMContentLoaded', function () {
            const frequencySelect = document.getElementById('treatment-frequency');
            if (frequencySelect) {
                frequencySelect.addEventListener('change', function () {
                    const timesContainer = document.getElementById('treatment-times-container');
                    const timesList = document.getElementById('treatment-times-list');
                    const frequency = parseInt(this.value);

                    if (frequency > 0) {
                        timesContainer.style.display = 'block';
                        timesList.innerHTML = '';

                        // Generate time inputs based on frequency
                        const defaultTimes = ['08:00', '14:00', '20:00', '02:00'];
                        for (let i = 0; i < frequency; i++) {
                            const timeInput = document.createElement('input');
                            timeInput.type = 'time';
                            timeInput.value = defaultTimes[i] || '09:00';
                            timeInput.className = 'w-full text-zinc-800 text-sm rounded-sm px-3 py-2.5 border outline-none focus:border-blue-500';
                            timeInput.style.borderColor = '#e5e7eb';
                            timeInput.style.backgroundColor = '#FDFFFF';
                            timesList.appendChild(timeInput);
                        }
                    } else if (this.value === 'custom') {
                        timesContainer.style.display = 'block';
                        timesList.innerHTML = `
                            <button onclick="addTimeSlot()" class="text-blue-600 text-xs font-medium flex items-center gap-1">
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd" />
                                </svg>
                                Add time slot
                            </button>
                        `;
                    } else {
                        timesContainer.style.display = 'none';
                    }
                });
            }
        });

        function addTimeSlot() {
            const timesList = document.getElementById('treatment-times-list');
            const timeInput = document.createElement('div');
            timeInput.className = 'flex gap-2';
            timeInput.innerHTML = `
                <input type="time" class="flex-1 text-zinc-800 text-sm rounded-sm px-3 py-2.5 border outline-none focus:border-blue-500"
                    style="border-color: #e5e7eb; background-color: #FDFFFF;">
                <button onclick="this.parentElement.remove()" class="text-red-600 px-2">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
                    </svg>
                </button>
            `;
            timesList.appendChild(timeInput);
        }

        function cancelBarcodeUpload() {
            // Reset the form
            document.getElementById('upload-section').style.display = 'block';
            document.getElementById('scanned-result-section').style.display = 'none';
            document.getElementById('barcodeUpload').value = '';
            document.getElementById('treatment-dosage').value = '';
            document.getElementById('treatment-frequency').value = '';
            document.getElementById('treatment-duration').value = '';
            document.getElementById('treatment-instructions').value = '';

            // Go back to options
            showPageBack('add-treatment-options');
        }

        function confirmBarcodetreatment() {
            // Validate required fields
            const dosage = document.getElementById('treatment-dosage').value;
            const frequency = document.getElementById('treatment-frequency').value;
            const startDate = document.getElementById('treatment-start-date').value;

            if (!dosage || !frequency || !startDate) {
                alert('Please fill in all required fields (Dosage, Frequency, Start Date)');
                return;
            }

            // Success notification
            alert('Treatment added successfully!\nThe patient will receive notifications according to the schedule.');

            // Reset and go back to patients page
            document.getElementById('upload-section').style.display = 'block';
            document.getElementById('scanned-result-section').style.display = 'none';
            document.getElementById('barcodeUpload').value = '';
            showPage('patients');
        }

        function uploadBarcode(event) {
            const file = event.target.files[0];
            if (!file) return;
            alert('Processing barcode image...');
            setTimeout(() => {
                const mockData = {
                    name: 'Ibuprofen',
                    dosage: '400mg',
                    type: 'Tablet',
                    manufacturer: 'Health Pharma',
                    ingredients: 'Ibuprofen 400mg'
                };
                displayValidation(mockData);
                showPageForward('treatment-validation');
            }, 2000);
        }

        function displayValidation(data) {
            document.getElementById('validationName').textContent = data.name;
            document.getElementById('validationDosage').textContent = data.dosage;
            document.getElementById('validationType').textContent = data.type;
            document.getElementById('validationManufacturer').textContent = data.manufacturer;
            document.getElementById('validationIngredients').textContent = data.ingredients;
        }

        function submitManualtreatment() {
            const name = document.getElementById('manualMedName')?.value;
            const dosageOrDetail = document.getElementById('manualMedDosage')?.value;
            const typeElement = document.getElementById('manualMedType');
            const type = typeElement ? (typeElement.tagName === 'SELECT' ? typeElement.value : typeElement.value) : '';

            if (!name || !dosageOrDetail || !type) {
                alert('Please fill in all required fields');
                return;
            }

            alert(`Treatment "${name}" (${type}) added successfully!\nType: ${selectedTreatmentType}`);
            showPageBack('patients');
        }

        function confirmtreatment() {
            alert('treatment confirmed and added successfully!');
            showPageBack('patients');
        }

        // Document functions
        function scanDocument() {
            alert('Scanning document...');
            setTimeout(() => {
                const mockData = {
                    type: 'Blood Test Results',
                    title: 'Complete Blood Count (CBC)',
                    date: 'November 3, 2025',
                    facility: 'City Medical Center'
                };
                displayDocumentValidation(mockData);
                showPageForward('document-validation');
            }, 1500);
        }

        function uploadDocument(event) {
            const file = event.target.files[0];
            if (!file) return;
            alert('Processing document image...');
            setTimeout(() => {
                const mockData = {
                    type: 'X-Ray Report',
                    title: 'Chest X-Ray',
                    date: 'November 1, 2025',
                    facility: 'General Hospital'
                };
                displayDocumentValidation(mockData);
                showPageForward('document-validation');
            }, 2000);
        }

        function displayDocumentValidation(data) {
            document.getElementById('docValidationType').textContent = data.type;
            document.getElementById('docValidationTitle').textContent = data.title;
            document.getElementById('docValidationDate').textContent = data.date;
            document.getElementById('docValidationFacility').textContent = data.facility;
        }

        function submitManualDocument() {
            const type = document.getElementById('manualDocType').value;
            const title = document.getElementById('manualDocTitle').value;
            const date = document.getElementById('manualDocDate').value;
            const image = document.getElementById('manualDocImage').files[0];

            if (!type || !title || !date || !image) {
                alert('Please fill in all required fields and upload an image');
                return;
            }

            alert('Document added successfully!');
            showPageBack('patients');
        }

        function confirmDocument() {
            alert('Document confirmed and added successfully!');
            showPageBack('patients');
        }

        function toggleForm(formId) {
            const form = document.getElementById(formId);
            if (form.classList.contains('hidden')) {
                form.classList.remove('hidden');
            } else {
                form.classList.add('hidden');
            }
        }

        function showtreatmentDetail(medKey) {
            const med = treatmentData[medKey];
            if (!med) return;

            // Populate treatment details
            document.getElementById('med-image').src = med.image;
            document.getElementById('med-image').alt = med.name;
            document.getElementById('med-name').textContent = med.name;
            document.getElementById('med-dosage').textContent = med.dosage;
            document.getElementById('med-type').textContent = med.type;
            document.getElementById('med-purpose').textContent = med.purpose;
            document.getElementById('med-schedule').textContent = med.schedule;

            // Populate instructions
            const instructionsList = document.getElementById('med-instructions');
            instructionsList.innerHTML = '';
            med.instructions.forEach(instruction => {
                const li = document.createElement('li');
                li.textContent = instruction;
                instructionsList.appendChild(li);
            });

            // Populate AI insights
            const aiInsightsList = document.getElementById('med-ai-insights');
            aiInsightsList.innerHTML = '';
            med.aiInsights.forEach(insight => {
                const p = document.createElement('p');
                p.textContent = insight;
                p.className = 'leading-relaxed';
                aiInsightsList.appendChild(p);
            });

            // Populate side effects
            const sideEffectsList = document.getElementById('med-side-effects');
            sideEffectsList.innerHTML = '';
            med.sideEffects.forEach(effect => {
                const li = document.createElement('li');
                li.textContent = effect;
                sideEffectsList.appendChild(li);
            });

            // Show the detail page
            showPage('med-detail');
        }

        // Button configuration variables
        let currentButtonName = '';
        let buttonConfig = {
            sound: 'bell',
            color: null,
            size: 'medium'
        };

        // Show button configuration page
        function showButtonConfig(buttonName) {
            currentButtonName = buttonName;
            const buttonNames = {
                'water': 'Water Button',
                'bathroom': 'Bathroom Button',
                'pain': 'Pain Button',
                'position': 'Position Button',
                'urgent': 'Urgent Button'
            };

            document.getElementById('config-button-name').textContent = buttonNames[buttonName] || buttonName;
            showPage('button-config');
        }

        // Play notification sound
        function playSound() {
            const sound = document.getElementById('sound-select').value;
            // In a real implementation, this would play the actual sound
            alert('ðŸ”Š Playing ' + sound + ' sound...\n(Sound playback would work in a real device)');
        }

        // Select button color
        function selectColor(color) {
            buttonConfig.color = color;
            document.getElementById('selected-color').textContent = 'Selected: ' + color;
            document.getElementById('selected-color').style.color = color;
        }

        // Save button configuration
        function saveButtonConfig() {
            const sound = document.getElementById('sound-select').value;
            const sizeRadios = document.getElementsByName('button-size');
            let size = 'medium';

            for (const radio of sizeRadios) {
                if (radio.checked) {
                    size = radio.value;
                    break;
                }
            }

            buttonConfig.sound = sound;
            buttonConfig.size = size;

            // In a real implementation, this would save to backend/database
            alert('âœ… Configuration saved!\n\n' +
                'Button: ' + currentButtonName + '\n' +
                'Sound: ' + buttonConfig.sound + '\n' +
                'Color: ' + (buttonConfig.color || 'Default') + '\n' +
                'Size: ' + buttonConfig.size);

            showPage('device');
        }

        // Save treatment
        function savetreatment() {
            // Get form values
            const medName = document.querySelector('input[placeholder="Enter treatment name"]').value;
            const dosage = document.querySelector('input[placeholder="e.g., 500mg"]').value;
            const type = document.querySelector('select').value;
            const timesPerDay = document.querySelector('input[type="number"][min="1"]').value;
            const firstDoseTime = document.querySelector('input[type="time"]').value;
            const duration = document.querySelector('input[name="duration"]:checked').value;
            const days = duration === 'temporary' ? document.querySelector('#days-field input').value : 'N/A';
            const purpose = document.querySelector('textarea').value;

            // Validate required fields
            if (!medName || !dosage || !type) {
                alert('âš ï¸ Please fill in all required fields (Name, Dosage, Type)');
                return;
            }

            // In a real implementation, this would save to backend/database
            alert('âœ… treatment Added Successfully!\n\n' +
                'Name: ' + medName + '\n' +
                'Dosage: ' + dosage + '\n' +
                'Type: ' + type + '\n' +
                'Times Per Day: ' + timesPerDay + '\n' +
                'First Dose: ' + firstDoseTime + '\n' +
                'Duration: ' + duration + (duration === 'temporary' ? ' (' + days + ' days)' : '') + '\n' +
                'Purpose: ' + (purpose || 'Not specified'));

            // Navigate back to patients page
            showPage('patients');
        }

        // Show/hide duration days field based on radio selection
        document.addEventListener('DOMContentLoaded', function () {
            const durationRadios = document.getElementsByName('duration');
            const daysField = document.getElementById('days-field');

            if (durationRadios.length > 0 && daysField) {
                durationRadios.forEach(radio => {
                    radio.addEventListener('change', function () {
                        if (this.value === 'temporary') {
                            daysField.classList.remove('hidden');
                        } else {
                            daysField.classList.add('hidden');
                        }
                    });
                });
            }
        });

        // Add new button functionality
        let buttonCounter = 1;
        const buttonColors = ['#10b981', '#f59e0b', '#8b5cf6', '#ec4899', '#06b6d4', '#6366f1'];

        function addNewButton() {
            const buttonsList = document.getElementById('buttonsList');
            const randomColor = buttonColors[Math.floor(Math.random() * buttonColors.length)];
            buttonCounter++;

            const newButtonHTML = `
                <div class="rounded-sm p-3 flex items-center justify-between" style="background-color: #FDFFFF;">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 rounded-sm flex items-center justify-center" style="background-color: ${randomColor};">
                            <svg class="w-5 h-5" style="color: #E6E8EA;" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/>
                            </svg>
                        </div>
                        <div>
                            <div class="text-zinc-800 text-sm font-semibold">New Button ${buttonCounter}</div>
                            <div class="text-gray-600 text-xs">Not configured</div>
                        </div>
                    </div>
                    <button onclick="showButtonConfig('new${buttonCounter}')"
                        style="background-color: #1977F2; color: #E6E8EA;"
                        class="text-xs font-medium px-3 py-1.5 rounded-sm">Configure</button>
                </div>
            `;

            buttonsList.insertAdjacentHTML('beforeend', newButtonHTML);

        }

        // Toggle notification for treatment
        function toggleNotification(element, event) {
            event.stopPropagation(); // Prevent row click from triggering
            element.classList.toggle('active');

            const isActive = element.classList.contains('active');
            const status = isActive ? 'enabled' : 'disabled';

            // In a real implementation, this would save to backend
            console.log('Notification ' + status);
        }

        // Toggle dropdown menu
        function toggleDropdown(event, menuId) {
            event.stopPropagation();
            const menu = document.getElementById(menuId);

            // Close all other dropdowns
            document.querySelectorAll('.dropdown-menu').forEach(m => {
                if (m.id !== menuId) {
                    m.classList.remove('show');
                }
            });

            menu.classList.toggle('show');
        }

        // Close dropdowns when clicking outside
        document.addEventListener('click', function (event) {
            if (!event.target.closest('.menu-button')) {
                document.querySelectorAll('.dropdown-menu').forEach(menu => {
                    menu.classList.remove('show');
                });
            }
        });

        // ==============================================
        // NOTIFICATION SYSTEM - Patient 1762505870313
        // ==============================================

        // Notification data store
        let notifications = [];
        let unreadCount = 0;

        // Alert type configurations
        const alertTypes = {
            water: { emoji: 'ðŸ’§', color: '#3B82F6', label: 'Water Request' },
            bathroom: { emoji: 'ðŸš½', color: '#8B5CF6', label: 'Bathroom Assistance' },
            pain: { emoji: 'ðŸ˜£', color: '#EF4444', label: 'Pain Alert' },
            position: { emoji: 'ðŸ›ï¸', color: '#F59E0B', label: 'Position Change' },
            urgent: { emoji: 'ðŸš¨', color: '#DC2626', label: 'URGENT' }
        };

        // Toggle notification panel
        function toggleNotificationPanel() {
            const panel = document.getElementById('notificationPanel');
            const isOpen = panel.classList.contains('open');

            if (isOpen) {
                panel.classList.remove('open');
            } else {
                panel.classList.add('open');
                renderNotificationList();
            }
        }

        // Show push notification popup
        function showPushNotification(alert) {
            const popup = document.getElementById('pushNotification');
            const icon = document.getElementById('pushNotifIcon');
            const title = document.getElementById('pushNotifTitle');
            const message = document.getElementById('pushNotifMessage');
            const time = document.getElementById('pushNotifTime');

            const alertConfig = alertTypes[alert.type] || alertTypes.urgent;

            icon.textContent = alertConfig.emoji;
            title.textContent = alertConfig.label;
            message.textContent = alert.message || `Patient needs ${alert.type} assistance`;
            time.textContent = 'Just now';

            // Add urgent class if needed
            if (alert.type === 'urgent') {
                popup.classList.add('urgent');
            } else {
                popup.classList.remove('urgent');
            }

            // Show popup with slide down animation
            popup.classList.add('show');

            // Play notification sound
            playNotificationSound();

            // Auto-dismiss after 5-6 seconds (6 for urgent)
            const dismissTime = alert.type === 'urgent' ? 6000 : 5000;
            setTimeout(() => {
                popup.classList.remove('show');
            }, dismissTime);
        }

        // Add new notification
        function addNotification(alert) {
            const notification = {
                id: Date.now(),
                type: alert.type,
                message: alert.message || `Patient needs ${alert.type} assistance`,
                timestamp: new Date().toISOString(),
                read: false,
                urgent: alert.type === 'urgent'
            };

            notifications.unshift(notification);
            unreadCount++;
            updateNotificationBadge();
            showPushNotification(alert);
        }

        // Update notification badge
        function updateNotificationBadge() {
            const badge = document.getElementById('notificationBadge');
            if (unreadCount > 0) {
                badge.textContent = unreadCount > 99 ? '99+' : unreadCount;
                badge.style.display = 'flex';
            } else {
                badge.style.display = 'none';
            }
        }

        // Render notification list
        function renderNotificationList() {
            const list = document.getElementById('notificationList');

            if (notifications.length === 0) {
                list.innerHTML = `
                    <div class="empty-state">
                        <svg class="empty-state-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                                d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
                        </svg>
                        <p class="empty-state-text">No notifications yet</p>
                    </div>
                `;
                return;
            }

            list.innerHTML = notifications.map(notif => {
                const config = alertTypes[notif.type] || alertTypes.urgent;
                const isUrgent = notif.type === 'urgent';
                const readClass = notif.read ? 'read' : 'unread';
                const urgentClass = isUrgent ? 'urgent' : '';

                return `
                    <div class="notification-item ${readClass} ${urgentClass}" data-id="${notif.id}">
                        <div class="notif-item-header">
                            <div class="notif-item-icon">
                                ${config.emoji}
                            </div>
                            <div class="notif-item-type">${config.label}</div>
                            <div class="notif-item-time">${getTimeAgo(notif.timestamp)}</div>
                        </div>
                        <div class="notif-item-message">${notif.message}</div>
                    </div>
                `;
            }).join('');
        }

        // Mark all as read
        function markAllAsRead() {
            notifications.forEach(notif => notif.read = true);
            unreadCount = 0;
            updateNotificationBadge();
            renderNotificationList();
        }

        // Clear all notifications
        function clearAllNotifications() {
            if (notifications.length === 0) return;

            if (confirm('Are you sure you want to clear all notifications?')) {
                notifications = [];
                unreadCount = 0;
                updateNotificationBadge();
                renderNotificationList();
            }
        }

        // Get relative time (e.g., "2 minutes ago")
        function getTimeAgo(timestamp) {
            const now = new Date();
            const time = new Date(timestamp);
            const diffMs = now - time;
            const diffMins = Math.floor(diffMs / 60000);
            const diffHours = Math.floor(diffMs / 3600000);
            const diffDays = Math.floor(diffMs / 86400000);

            if (diffMins < 1) return 'Just now';
            if (diffMins < 60) return `${diffMins} min ago`;
            if (diffHours < 24) return `${diffHours} hour${diffHours > 1 ? 's' : ''} ago`;
            return `${diffDays} day${diffDays > 1 ? 's' : ''} ago`;
        }

        // Play notification sound
        function playNotificationSound() {
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();

                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);

                oscillator.frequency.value = 800;
                oscillator.type = 'sine';

                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.2);

                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.2);
            } catch (error) {
                console.log('Sound notification not available');
            }
        }

        // Make addNotification globally available for Firebase integration
        window.addNotification = addNotification;

        // Initialize notification system on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Reset notifications and badge on page load
            notifications = [];
            unreadCount = 0;
            updateNotificationBadge();
            
            console.log('Notification system initialized for Patient 1762505870313');
        });
    </script>

    <!-- Firebase Notification Integration -->
    <script type="module" src="firebase-notifications.js"></script>
</body>

</html>